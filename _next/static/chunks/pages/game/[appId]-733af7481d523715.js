(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{4788:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[appId]",function(){return i(88738)}])},88738:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return qe}});var n=i(26042),a=i(69396),s=i(85893),r=i(67294),o=i(11163),l=i(76572),c=i(34051),d=i(31555),u=i(26699),h=i(88375),m=i(36968),v=i(6047),p=i(47568),x=i(70655),g=i(85509),f=i(56841),j=i(62255),w=i(27977),y=i(48116),b=i.n(y),_={arabic:{englishName:"Arabic"},bulgarian:{englishName:"Bulgarian"},schinese:{englishName:"Chinese (Simplified)"},tchinese:{englishName:"Chinese (Traditional)"},czech:{englishName:"Czech"},danish:{englishName:"Danish"},dutch:{englishName:"Dutch"},english:{englishName:"English"},finnish:{englishName:"Finnish"},french:{englishName:"French"},german:{englishName:"German"},greek:{englishName:"Greek"},hungarian:{englishName:"Hungarian"},italian:{englishName:"Italian"},japanese:{englishName:"Japanese"},koreana:{englishName:"Korean"},norwegian:{englishName:"Norwegian"},polish:{englishName:"Polish"},portuguese:{englishName:"Portuguese"},brazilian:{englishName:"Portuguese (Brazil)"},romanian:{englishName:"Romanian"},russian:{englishName:"Russian"},spanish:{englishName:"Spanish (Spain)"},latam:{englishName:"Spanish (Latin America)"},swedish:{englishName:"Swedish"},thai:{englishName:"Thai"},turkish:{englishName:"Turkish"},ukrainian:{englishName:"Ukrainian"},vietnamese:{englishName:"Vietnamese"}},k="dd/mm/yy h:MM:ssTT",C=function(e){var t=e.game,i=e.titles,n=e.review,a=i.join(", ");a=a.charAt(0).toUpperCase()+a.slice(1);var r=Math.round(n.author.playtime_forever/60),o=Math.round(n.author.playtime_at_review/60),l="https://steamcommunity.com/profiles/".concat(n.author.steamid,"/recommended/").concat(t.steam_appid,"/");return(0,s.jsx)(j.Z,{className:"mb-4 mt-4",border:n.voted_up?"success":"danger",children:(0,s.jsxs)(j.Z.Body,{children:[(0,s.jsx)(j.Z.Title,{className:"mb-3",children:a}),(0,s.jsxs)(j.Z.Subtitle,{className:"mb-2",children:[n.voted_up?"\ud83d\udc4d Recommended":"\ud83d\udc4e Not recommended"," with ",n.author.playtime_forever<60?"".concat(n.author.playtime_forever," minute").concat(1!==n.author.playtime_forever?"s":""):"".concat(r.toLocaleString()," hour").concat(1!==r?"s":"")," recorded ",n.author.playtime_at_review!==n.author.playtime_forever?n.author.playtime_at_review<60?"(".concat(n.author.playtime_at_review," minute").concat(1!==n.author.playtime_at_review?"s at review time)":" at review time)"):"(".concat(o.toLocaleString()," hour").concat(1!==o?"s at review time)":" at review time)"):""]}),(0,s.jsx)(j.Z.Subtitle,{className:"mb-2",children:(0,s.jsxs)("a",{href:l,target:"_blank",children:["Posted in ",_[n.language].englishName," @ ",b()(new Date(1e3*n.timestamp_created),k)," ",n.timestamp_created!==n.timestamp_updated&&"(Updated ".concat(b()(new Date(1e3*n.timestamp_updated),k),")")]})}),(0,s.jsxs)(j.Z.Subtitle,{className:"mb-2 text-muted",children:[n.written_during_early_access&&(0,s.jsx)(w.Z,{className:"mr-1",variant:"primary",children:"Written during early access"}),n.received_for_free&&(0,s.jsx)(w.Z,{variant:"primary",children:"Marked as received for free"})]}),(0,s.jsx)(j.Z.Text,{style:{overflow:"hidden"},children:n.review}),n.votes_up>0&&(0,s.jsxs)(j.Z.Subtitle,{className:"mb-2 text-muted small",children:[n.votes_up," ",1===n.votes_up?"person":"people"," found this review helpful"]}),n.votes_funny>0&&(0,s.jsxs)(j.Z.Subtitle,{className:"mb-2 text-muted small",children:[n.votes_funny," ",1===n.votes_funny?"person":"people"," found this review funny"]}),n.comment_count>0&&(0,s.jsxs)(j.Z.Subtitle,{className:"mb-2 text-muted small",children:["There ",1===n.comment_count?"is":"are"," ",n.comment_count," ",1===n.comment_count?"comment":"comments"," on this review"]})]})})},N=function(e){var t=e.game,i=e.reviewStatistics,n={},a=function(e,t){n[t.recommendationid]?n[t.recommendationid].titles.push(e):n[t.recommendationid]={titles:[e],review:t}};return i.totalReviews>1&&(a("highest playtime at review time",i.reviewMaxTotalMinutesPlayedAtReviewTime),a("highest playtime forever",i.reviewMaxTotalMinutesPlayedForever),a("longest",i.reviewMaxTextLength),i.reviewMaxVotesUp.votes_up>0&&a("most helpful",i.reviewMaxVotesUp),i.reviewMaxVotesFunny.votes_funny>0&&a("most funny",i.reviewMaxVotesFunny),i.reviewMaxCommentCount.comment_count>0&&a("most comments",i.reviewMaxCommentCount)),(0,s.jsxs)(s.Fragment,{children:[Object.values(n).map((function(e){return(0,s.jsx)(C,{game:t,titles:e.titles,review:e.review},e.review.recommendationid)})),0===Object.values(n).length&&(0,s.jsx)("p",{className:"mt-3",children:"This product has too few reviews to determine highlighted reviews"})]})},M=i(74835),T=i(52205),F=function(e){var t=function(e){d.push((0,s.jsx)(T.Z.Item,{active:n===e,onClick:function(){return o(e)},children:e+1},e))},i=e.pageBuffer,n=e.currentIndex,a=e.lastIndex,r=e.callback,o=function(e){e>=0&&e<=a&&r(e)},l=n-i,c=n+i;c>a&&(c=a,l=a-2*i),l<0&&(l=0,c=2*i),c>a&&(c=a);for(var d=[],u=l;u<=c;u++)t(u);return(0,s.jsxs)(T.Z,{className:"mt-3",children:[(0,s.jsx)(T.Z.First,{disabled:0===n,onClick:function(){return o(0)}}),(0,s.jsx)(T.Z.Prev,{disabled:0===n,onClick:function(){return o(n-1)}}),d,(0,s.jsx)(T.Z.Next,{disabled:n===a,onClick:function(){return o(n+1)}}),(0,s.jsx)(T.Z.Last,{disabled:n===a,onClick:function(){return o(a)}})]})},Z=i(51438),S=i(88029),P=i(16567),L=i(60357),R=i.n(L),A=i(75147),O=i(35005),U=i(37763),V=i.n(U),I=i(96486),W=i.n(I),D=function(e){var t=e.review,i=e.viewOptions,n=e.filters,a=(0,r.useState)(!i.truncateLongReviews),o=a[0],l=a[1],c=(0,r.useState)(!i.truncateLongReviews),d=c[0],u=c[1];o!==!i.truncateLongReviews&&(l(!i.truncateLongReviews),u(!i.truncateLongReviews));var h=t.review.length>200,m=i.censorBadWords&&void 0!==t.censored?W().truncate(t.censored,{length:200}):W().truncate(t.review,{length:200}),v=i.censorBadWords&&void 0!==t.censored?t.censored:t.review;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(V(),{highlightClassName:"highlighted",searchWords:[n.searchTerm],autoEscape:!0,textToHighlight:d?v:m}),h&&!d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(O.Z,{className:"p-0",variant:"link",onClick:function(){return u(!0)},children:"View more"})]}),h&&d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)(O.Z,{className:"p-0",variant:"link",onClick:function(){return u(!1)},children:"View less"})]})]})},B="dd/mm/yy h:MM:ssTT",z=function(e){var t=e.viewOptions,i=e.filters,n=(e.game,e.review),a=b()(new Date(1e3*n.timestamp_created),B),r=n.timestamp_updated>n.timestamp_created?b()(new Date(1e3*n.timestamp_updated),B):"",o=_[n.language].englishName,l=Math.round(n.author.playtime_at_review/60),c=Math.round(n.author.playtime_forever/60),d=n.author.playtime_at_review<60?"".concat(n.author.playtime_at_review," minute").concat(1!==n.author.playtime_at_review?"s":""):"".concat(l.toLocaleString()," hour").concat(1!==l?"s":""),u=n.author.playtime_forever<60?"".concat(n.author.playtime_forever," minute").concat(1!==n.author.playtime_forever?"s":""):"".concat(c.toLocaleString()," hour").concat(1!==c?"s":"");return(0,s.jsxs)("tr",{className:"jsx-3f8337d361d7348f "+((n.voted_up?"table-success":"table-danger")||""),children:[(0,s.jsx)(R(),{id:"3f8337d361d7348f",children:"div.jsx-3f8337d361d7348f{padding-left:12px;padding-right:12px}"}),(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("a",{href:n.recommendationurl,target:"_blank",className:"jsx-3f8337d361d7348f",children:n.recommendationid})})}),-1===t.hiddenColumns.indexOf("timeCreated")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:a})}),-1===t.hiddenColumns.indexOf("timeUpdated")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r})}),-1===t.hiddenColumns.indexOf("votedUp")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.voted_up?"\ud83d\udc4d":"\ud83d\udc4e"})}),-1===t.hiddenColumns.indexOf("language")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:o})}),(0,s.jsx)("td",{style:{wordBreak:"break-word",minWidth:"350px",overflow:"hidden"},className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)(D,{review:n,viewOptions:t,filters:i})})}),-1===t.hiddenColumns.indexOf("playtimeAtReview")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:d})}),-1===t.hiddenColumns.indexOf("playtimeForever")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:u})}),-1===t.hiddenColumns.indexOf("earlyAccess")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.written_during_early_access&&"\u2705"})}),-1===t.hiddenColumns.indexOf("receivedForFree")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.received_for_free&&"\u2705"})}),-1===t.hiddenColumns.indexOf("steamPurchase")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.steam_purchase&&"\u2705"})}),-1===t.hiddenColumns.indexOf("votesUp")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.votes_up.toLocaleString()})}),-1===t.hiddenColumns.indexOf("votesFunny")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.votes_funny.toLocaleString()})}),-1===t.hiddenColumns.indexOf("commentCount")&&(0,s.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,s.jsx)("div",{className:"jsx-3f8337d361d7348f",children:n.comment_count.toLocaleString()})})]},n.recommendationid)},E=i(22435),H=i.n(E),G=i(55154),K=function(e){var t,i=e.sortId,n=e.sorting,a=e.callBack;return i===n.id?"ascending"===n.direction?t=(0,s.jsx)(G.h3_,{}):"descending"===n.direction&&(t=(0,s.jsx)(G.sF,{})):t=(0,s.jsx)(G.roE,{}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R(),{id:"b4f622193284766b",children:"span.jsx-b4f622193284766b{opacity:.4;-webkit-transition:opacity.3s;-moz-transition:opacity.3s;-o-transition:opacity.3s;transition:opacity.3s}span.jsx-b4f622193284766b:hover{opacity:1}span.active.jsx-b4f622193284766b{opacity:1}"}),(0,s.jsx)("span",{onClick:function(){return a(i)},className:"jsx-b4f622193284766b "+(i===n.id?"active":""),children:t})]})},Y=function(e){(0,S.Z)(i,e);var t=(0,P.Z)(i);function i(e){return(0,Z.Z)(this,i),t.call(this,e)}var n=i.prototype;return n.componentDidMount=function(){this.enableResize()},n.componentWillUnmount=function(){this.disableResize()},n.componentDidUpdate=function(){this.enableResize()},n.componentWillUpdate=function(){this.disableResize()},n.enableResize=function(){var e={resizeMode:"overflow",minWidth:50,draggingClass:"customDrag"};this.resizer?this.resizer.reset(e):this.table&&(this.resizer=new(H())(this.table,e))},n.disableResize=function(){this.resizer&&this.resizer.reset({disable:!0})},n.render=function(){var e=this;return(0,s.jsxs)(A.Z,{style:{minWidth:"100%",width:"100%"},id:"rtable",striped:!0,bordered:!0,hover:!0,responsive:!0,ref:function(t){e.table=t},children:[(0,s.jsx)(R(),{id:"4ed9470cb5315cdb",children:".customDrag{border-left:1px dotted black;margin-left:-1px!important}"}),(0,s.jsx)("thead",{className:"jsx-4ed9470cb5315cdb",children:(0,s.jsxs)("tr",{className:"jsx-4ed9470cb5315cdb",children:[(0,s.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"ID"}),-1===this.props.viewOptions.hiddenColumns.indexOf("timeCreated")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Time created ",(0,s.jsx)(K,{sortId:"timestampCreated",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("timeUpdated")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Time updated ",(0,s.jsx)(K,{sortId:"timestampUpdated",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("votedUp")&&(0,s.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Voted"}),-1===this.props.viewOptions.hiddenColumns.indexOf("language")&&(0,s.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Language"}),(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Text ",(0,s.jsx)(K,{sortId:"textLength",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("playtimeAtReview")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Playtime at review time ",(0,s.jsx)(K,{sortId:"playtimeAtReview",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("playtimeForever")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Playtime forever ",(0,s.jsx)(K,{sortId:"playtimeForever",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("earlyAccess")&&(0,s.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Written during early access"}),-1===this.props.viewOptions.hiddenColumns.indexOf("receivedForFree")&&(0,s.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Marked as received for free"}),-1===this.props.viewOptions.hiddenColumns.indexOf("steamPurchase")&&(0,s.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Purchased via Steam"}),-1===this.props.viewOptions.hiddenColumns.indexOf("votesUp")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Votes helpful ",(0,s.jsx)(K,{sortId:"votesUp",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("votesFunny")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Votes funny ",(0,s.jsx)(K,{sortId:"votesFunny",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===this.props.viewOptions.hiddenColumns.indexOf("commentCount")&&(0,s.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Comment count ",(0,s.jsx)(K,{sortId:"commentCount",sorting:this.props.sorting,callBack:this.props.handleSort})]})]})}),(0,s.jsx)("tbody",{className:"jsx-4ed9470cb5315cdb",children:this.props.reviews.length>0?this.props.reviews.map((function(t){return(0,s.jsx)(z,{filters:e.props.filters,viewOptions:e.props.viewOptions,game:e.props.game,review:t},t.recommendationid)})):(0,s.jsx)("tr",{className:"jsx-4ed9470cb5315cdb",children:(0,s.jsx)("td",{colSpan:100,className:"jsx-4ed9470cb5315cdb",children:(0,s.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",textAlign:"center"},className:"jsx-4ed9470cb5315cdb",children:"No reviews found"})})})})]})},i}(r.Component),q=function(e){var t=e.index,i=e.filters,n=e.viewOptions,a=e.game,o=e.reviews,l=e.sorting,u=e.handleSort,h=e.handleChangeIndex,m=e.exportComponent,v=(0,r.useState)(20),p=v[0],x=v[1],g=Math.ceil(o.length/p)-1;g<0&&(g=0);var f=r.createRef();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:f}),(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(d.Z,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(d.Z,{md:"auto",children:(0,s.jsx)(F,{pageBuffer:2,currentIndex:t,lastIndex:g,callback:h})}),(0,s.jsx)(d.Z,{md:"auto",children:(0,s.jsxs)(M.Z.Control,{className:"mt-3 mb-3",as:"select",defaultValue:p,onChange:function(e){x(+e.target.value),h(0)},children:[(0,s.jsx)("option",{children:"10"}),(0,s.jsx)("option",{children:"20"}),(0,s.jsx)("option",{children:"50"}),(0,s.jsx)("option",{children:"100"})]})})]})}),(0,s.jsx)(d.Z,{children:m})]}),(0,s.jsx)(Y,{filters:i,viewOptions:n,game:a,reviews:o.slice(t*p,t*p+p),sorting:l,handleSort:u}),(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(d.Z,{children:(0,s.jsx)(F,{pageBuffer:2,currentIndex:t,lastIndex:g,callback:function(e){h(e),f.current&&f.current.scrollIntoView({behavior:"smooth"})}})}),(0,s.jsx)(d.Z,{children:m})]})]})},$=function(e){var t=e.game,i=e.reviewStatistics,n="mmm d, yyyy",a=Math.round(i.averageMinutesPlaytimeAtReviewTime/60),r=Math.round(i.averageMinutesPlaytimeForever/60),o=Math.round(i.medianMinutesPlayedAtReviewTime/60),l=Math.round(i.medianMinutesPlayedForever/60),c=Math.round(i.totalMinutesPlayedForever/60);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{children:"Totals & Ranges"}),(0,s.jsx)(A.Z,{className:"mt-3",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{borderTop:"none"},children:(0,s.jsx)("strong",{children:"Total public reviews retrieved"})}),(0,s.jsx)("td",{style:{borderTop:"none"},children:i.totalReviews.toLocaleString()})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"In date range"})}),(0,s.jsxs)("td",{children:[b()(new Date(1e3*i.reviewMinTimestampCreated.timestamp_updated),n)," - ",b()(new Date(1e3*i.reviewMaxTimestampUpdated.timestamp_updated),n)]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total positive"})}),(0,s.jsxs)("td",{children:[t.total_positive.toLocaleString()," (",Math.round(t.total_positive/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total negative"})}),(0,s.jsxs)("td",{children:[t.total_negative.toLocaleString()," (",Math.round(t.total_negative/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Average text length"})}),(0,s.jsxs)("td",{children:[i.averageTextLength.toLocaleString()," character",1!==i.averageTextLength?"s":""]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Min playtime at review time"})}),(0,s.jsx)("td",{children:i.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review<60?"".concat(i.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review," minute").concat(1!==i.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review?"s":""):"".concat(Math.round(i.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60).toLocaleString()," hour").concat(1!==Math.round(i.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60)?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Max playtime at review time"})}),(0,s.jsx)("td",{children:i.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review<60?"".concat(i.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review," minute").concat(1!==i.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review?"s":""):"".concat(Math.round(i.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60).toLocaleString()," hour").concat(1!==Math.round(i.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60)?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Average playtime at review time"})}),(0,s.jsx)("td",{children:i.averageMinutesPlaytimeAtReviewTime<60?"".concat(i.averageMinutesPlaytimeAtReviewTime," minute").concat(1!==i.averageMinutesPlaytimeAtReviewTime?"s":""):"".concat(a.toLocaleString()," hour").concat(1!==a?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Median playtime at review time"})}),(0,s.jsx)("td",{children:i.medianMinutesPlaytimeAtReviewTime<60?"".concat(i.medianMinutesPlaytimeAtReviewTime," minute").concat(1!==i.medianMinutesPlaytimeAtReviewTime?"s":""):"".concat(o.toLocaleString()," hour").concat(1!==o?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Min playtime forever"})}),(0,s.jsx)("td",{children:i.reviewMinTotalMinutesPlayedForever.author.playtime_forever<60?"".concat(i.reviewMinTotalMinutesPlayedForever.author.playtime_forever," minute").concat(1!==i.reviewMinTotalMinutesPlayedForever.author.playtime_forever?"s":""):"".concat(Math.round(i.reviewMinTotalMinutesPlayedForever.author.playtime_forever/60).toLocaleString()," hour").concat(1!==Math.round(i.reviewMinTotalMinutesPlayedForever.author.playtime_forever/60)?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Max playtime forever"})}),(0,s.jsx)("td",{children:i.reviewMaxTotalMinutesPlayedForever.author.playtime_forever<60?"".concat(i.reviewMaxTotalMinutesPlayedForever.author.playtime_forever," minute").concat(1!==i.reviewMaxTotalMinutesPlayedForever.author.playtime_forever?"s":""):"".concat(Math.round(i.reviewMaxTotalMinutesPlayedForever.author.playtime_forever/60).toLocaleString()," hour").concat(1!==Math.round(i.reviewMaxTotalMinutesPlayedForever.author.playtime_forever/60)?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Average playtime forever"})}),(0,s.jsx)("td",{children:i.averageMinutesPlaytimeForever<60?"".concat(i.averageMinutesPlaytimeForever," minute").concat(1!==i.averageMinutesPlaytimeForever?"s":""):"".concat(r.toLocaleString()," hour").concat(1!==r?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Median playtime forever"})}),(0,s.jsx)("td",{children:i.medianMinutesPlaytimeForever<60?"".concat(i.medianMinutesPlaytimeForever," minute").concat(1!==i.medianMinutesPlaytimeForever?"s":""):"".concat(l.toLocaleString()," hour").concat(1!==l?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total playtime forever"})}),(0,s.jsx)("td",{children:i.totalMinutesPlayedForever<60?"".concat(i.totalMinutesPlayedForever," minute").concat(1!==i.totalMinutesPlayedForever?"s":""):"".concat(c.toLocaleString()," hour").concat(1!==c?"s":"")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total updated"})}),(0,s.jsxs)("td",{children:[i.totalReviewsUpdated.toLocaleString()," (",Math.round(i.totalReviewsUpdated/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total with comments"})}),(0,s.jsxs)("td",{children:[i.totalWithComments.toLocaleString()," (",Math.round(i.totalWithComments/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total purchased via Steam"})}),(0,s.jsxs)("td",{children:[i.totalPurchasedViaSteam.toLocaleString()," (",Math.round(i.totalPurchasedViaSteam/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total marked as received for Free"})}),(0,s.jsxs)("td",{children:[i.totalMarkedAsReceivedForFree.toLocaleString()," (",Math.round(i.totalMarkedAsReceivedForFree/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total written during early access"})}),(0,s.jsxs)("td",{children:[i.totalWrittenDuringEarlyAccess.toLocaleString()," (",Math.round(i.totalWrittenDuringEarlyAccess/i.totalReviews*100),"%)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total languages"})}),(0,s.jsx)("td",{children:Object.keys(i.totalLanguages).length.toLocaleString()})]})]})})]})},X=i(14924),J=i(99534),Q=i(88792),ee=i(68496),te=i(23201),ie=i(88678),ne=(i(87042),i(56448));i(23273);function ae(e){var t=e.children,i=e.eventKey,n=(0,r.useContext)(Q.Z),a=(0,ee.n)(i),o=n===i;return(0,s.jsxs)(O.Z,{className:"p-0",variant:"link",onClick:a,children:[t," ",o?(0,s.jsx)(G.qL$,{className:"pb-1"}):(0,s.jsx)(G.PS5,{className:"pb-1"})]})}var se=ie.ZP.Range,re=function(e){var t=e.value,i=e.dragging,a=e.index,r=(0,J.Z)(e,["value","dragging","index"]);return(0,s.jsx)(ie.Rl,{prefixCls:"rc-slider-tooltip",overlay:t,visible:i,placement:"top",children:(0,s.jsx)(ie.HH,(0,n.Z)({value:t},r))},a)},oe=function(e){var t=e.filters,i=e.viewOptions,o=e.viewOptionsCallback,l=e.reviews,u=e.updateFiltersCallback,h=e.applyFiltersCallback,m=e.cancelStagedFilterChangesCallback,v=e.reviewStatistics,p=e.cachedFilters,x=e.dirty,g=e.zeroed,f=e.resetFiltersCallback,y=(0,r.useState)(t.timePlayedAtReviewTime),b=y[0],k=y[1],C=(0,r.useState)(t.timePlayedForever),N=C[0],T=C[1],F=(0,r.useState)(t.textLength),Z=F[0],S=F[1],P=(0,r.useState)(t.votesHelpful),L=P[0],R=P[1],A=(0,r.useState)(t.votesFunny),U=A[0],V=A[1],I=(0,r.useState)(t.commentCount),W=I[0],D=I[1],B=Object.keys(v.totalLanguages).sort((function(e,t){return _[e].englishName<_[t].englishName?-1:1})),z=v.reviewMinTextLength.review.length,E=v.reviewMaxTextLength.review.length,H=v.reviewMinCommentCount.comment_count,G=v.reviewMaxCommentCount.comment_count,K=v.reviewMinVotesUp.votes_up,Y=v.reviewMaxVotesUp.votes_up,q=v.reviewMinVotesFunny.votes_funny,$=v.reviewMaxVotesFunny.votes_funny,J=new Date(1e3*v.reviewMinTimestampCreated.timestamp_created),Q=new Date(1e3*v.reviewMaxTimestampCreated.timestamp_created),ee=Math.floor(v.reviewMinTotalMinutesPlayedForever.author.playtime_forever/60),ie=Math.ceil(v.reviewMaxTotalMinutesPlayedForever.author.playtime_forever/60),oe=Math.floor(v.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60),le=Math.ceil(v.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60),ce=function(e){var i=e.label,s=e.value,r=(0,a.Z)((0,n.Z)({},t),(0,X.Z)({},i,s));u(r)},de=function(e){var t=e.label,s=e.value,r=(0,a.Z)((0,n.Z)({},i),(0,X.Z)({},t,s));o(r)};return(0,s.jsx)(te.Z,{className:"mt-4",children:(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(j.Z.Header,{children:(0,s.jsxs)(ae,{eventKey:"0",children:["Filters (",l.length.toLocaleString()," review",1!==l.length&&"s"," matching) ",x?"*":""]})}),(0,s.jsx)(te.Z.Collapse,{eventKey:"0",children:(0,s.jsxs)(j.Z.Body,{children:[(0,s.jsx)(M.Z.Control,{type:"text",placeholder:"Search reviews",onChange:function(e){return ce({label:"searchTerm",value:e.target.value.trim()})}}),(0,s.jsxs)(M.Z.Group,{className:"mt-3",children:[(0,s.jsx)(M.Z.Label,{children:"Time created"}),(0,s.jsx)("br",{}),(0,s.jsx)(ne.Z,{onCancel:function(){ce({label:"timeCreated",value:[J,Q]})},onCallback:function(e,t){ce({label:"timeCreated",value:[e.toDate(),t.toDate()]})},initialSettings:{minDate:J,maxDate:Q,startDate:t.timeCreated?t.timeCreated[0]:J,endDate:t.timeCreated?t.timeCreated[1]:Q,timePicker:!0,locale:{cancelLabel:"Clear"}},children:(0,s.jsx)(M.Z.Control,{type:"text"})})]}),(0,s.jsxs)(M.Z.Label,{children:["Languages (",t.languages.length," selected)"]}),(0,s.jsx)(M.Z.Control,{as:"select",value:t.languages,multiple:!0,onChange:function(e){return ce({label:"languages",value:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},children:B.map((function(e){return(0,s.jsx)("option",{value:e,children:_[e].englishName},e)})).sort()}),(0,s.jsxs)(M.Z.Row,{children:[(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsxs)("div",{className:"mt-3 binary",children:[(0,s.jsx)(M.Z.Label,{children:"Voted"}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Positive",type:"checkbox",checked:t.votedUpPositive,onChange:function(e){return ce({label:"votedUpPositive",value:e.target.checked})}}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Negative",type:"checkbox",checked:t.votedUpNegative,onChange:function(e){return ce({label:"votedUpNegative",value:e.target.checked})}})]})}),(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsxs)("div",{className:"mt-3 binary",children:[(0,s.jsx)(M.Z.Label,{children:"Written during early access"}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:t.earlyAccessYes,onChange:function(e){return ce({label:"earlyAccessYes",value:e.target.checked})}}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:t.earlyAccessNo,onChange:function(e){return ce({label:"earlyAccessNo",value:e.target.checked})}})]})}),(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsxs)("div",{className:"mt-3 binary",children:[(0,s.jsx)(M.Z.Label,{children:"Marked as received for free"}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:t.receivedForFreeYes,onChange:function(e){return ce({label:"receivedForFreeYes",value:e.target.checked})}}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:t.receivedForFreeNo,onChange:function(e){return ce({label:"receivedForFreeNo",value:e.target.checked})}})]})}),(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsxs)("div",{className:"mt-3 binary",children:[(0,s.jsx)(M.Z.Label,{children:"Purchased via Steam"}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:t.steamPurchaseYes,onChange:function(e){return ce({label:"steamPurchaseYes",value:e.target.checked})}}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:t.steamPurchaseNo,onChange:function(e){return ce({label:"steamPurchaseNo",value:e.target.checked})}})]})}),(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsxs)("div",{className:"mt-3 binary",children:[(0,s.jsxs)(M.Z.Label,{children:["Likely ASCII art ",(0,s.jsx)(w.Z,{variant:"info",children:"Experimental"})]}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:t.containsASCIIArtYes,onChange:function(e){return ce({label:"containsASCIIArtYes",value:e.target.checked})}}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:t.containsASCIIArtNo,onChange:function(e){return ce({label:"containsASCIIArtNo",value:e.target.checked})}})]})})]}),(0,s.jsxs)(M.Z.Label,{className:"mt-3",children:["Time played at review time (",t.timePlayedAtReviewTime?t.timePlayedAtReviewTime[0]:oe," - ",t.timePlayedAtReviewTime?t.timePlayedAtReviewTime[1]:le," hrs)"]}),(0,s.jsx)(M.Z.Group,{className:"ml-2 mr-2",children:(0,s.jsx)(se,{allowCross:!1,value:b||[oe,le],min:oe,max:le,defaultValue:[oe,le],onChange:function(e){return k(e)},onAfterChange:function(e){return ce({label:"timePlayedAtReviewTime",value:e})}})}),(0,s.jsxs)(M.Z.Label,{children:["Time played forever (",t.timePlayedForever?t.timePlayedForever[0]:ee," - ",t.timePlayedForever?t.timePlayedForever[1]:ie," hrs)"]}),(0,s.jsx)(M.Z.Group,{className:"ml-2 mr-2",children:(0,s.jsx)(se,{allowCross:!1,handle:re,value:N||[ee,ie],min:ee,max:ie,defaultValue:[ee,ie],onChange:function(e){return T(e)},onAfterChange:function(e){return ce({label:"timePlayedForever",value:e})}})}),(0,s.jsxs)(M.Z.Label,{children:["Text length (",t.textLength?t.textLength[0]:z," - ",t.textLength?t.textLength[1]:E," characters)"]}),(0,s.jsx)(M.Z.Group,{className:"ml-2 mr-2",children:(0,s.jsx)(se,{allowCross:!1,handle:re,value:Z||[z,E],min:z,max:E,defaultValue:[z,E],onChange:function(e){return S(e)},onAfterChange:function(e){return ce({label:"textLength",value:e})}})}),(0,s.jsxs)(M.Z.Label,{children:["Votes helpful (",t.votesHelpful?t.votesHelpful[0]:K," - ",t.votesHelpful?t.votesHelpful[1]:Y," votes)"]}),(0,s.jsx)(M.Z.Group,{className:"ml-2 mr-2",children:(0,s.jsx)(se,{allowCross:!1,handle:re,value:L||[K,Y],min:K,max:Y,defaultValue:[K,Y],onChange:function(e){return R(e)},onAfterChange:function(e){return ce({label:"votesHelpful",value:e})}})}),(0,s.jsxs)(M.Z.Label,{children:["Votes funny (",t.votesFunny?t.votesFunny[0]:q," - ",t.votesFunny?t.votesFunny[1]:$," votes)"]}),(0,s.jsx)(M.Z.Group,{className:"ml-2 mr-2",children:(0,s.jsx)(se,{allowCross:!1,handle:re,value:U||[q,$],min:q,max:$,defaultValue:[q,$],onChange:function(e){return V(e)},onAfterChange:function(e){return ce({label:"votesFunny",value:e})}})}),(0,s.jsxs)(M.Z.Label,{children:["Comment count (",t.commentCount?t.commentCount[0]:H," - ",t.commentCount?t.commentCount[1]:G," comments)"]}),(0,s.jsx)(M.Z.Group,{className:"ml-2 mr-2",children:(0,s.jsx)(se,{allowCross:!1,handle:re,value:W||[H,G],min:H,max:G,defaultValue:[H,G],onChange:function(e){return D(e)},onAfterChange:function(e){return ce({label:"commentCount",value:e})}})}),(0,s.jsx)(M.Z.Group,{className:"mt-4",children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(d.Z,{children:(0,s.jsx)(O.Z,{variant:"light",className:"btn-block",onClick:function(){f(),k([oe,le]),T([ee,ie]),S([z,E]),R([K,Y]),V([q,$]),D([H,G])},disabled:g,children:"Reset"})}),(0,s.jsx)(d.Z,{children:(0,s.jsx)(O.Z,{variant:"light",className:"btn-block",onClick:function(){m(),k(p.timePlayedAtReviewTime),T(p.timePlayedForever),S(p.textLength),R(p.votesHelpful),V(p.votesFunny),D(p.commentCount)},disabled:!x,children:"Cancel"})}),(0,s.jsx)(d.Z,{children:(0,s.jsx)(O.Z,{className:"btn-block",onClick:function(){h()},disabled:!x,children:"Apply Filters"})})]})})]})}),(0,s.jsx)(j.Z.Header,{children:(0,s.jsx)(ae,{eventKey:"1",children:"View"})}),(0,s.jsx)(te.Z.Collapse,{eventKey:"1",children:(0,s.jsxs)(j.Z.Body,{children:[(0,s.jsxs)(M.Z.Label,{children:["Hidden Columns (",-1===i.hiddenColumns.indexOf("none")?i.hiddenColumns.length:i.hiddenColumns.length-1," hidden)"]}),(0,s.jsxs)(M.Z.Control,{as:"select",value:i.hiddenColumns,multiple:!0,onChange:function(e){return de({label:"hiddenColumns",value:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},children:[(0,s.jsx)("option",{value:"none",children:"---"}),(0,s.jsx)("option",{value:"timeCreated",children:"Time created"}),(0,s.jsx)("option",{value:"timeUpdated",children:"Time updated"}),(0,s.jsx)("option",{value:"votedUp",children:"Voted"}),(0,s.jsx)("option",{value:"language",children:"Language"}),(0,s.jsx)("option",{value:"playtimeAtReview",children:"Playtime at review time"}),(0,s.jsx)("option",{value:"playtimeForever",children:"Playtime forever"}),(0,s.jsx)("option",{value:"earlyAccess",children:"Written during early access"}),(0,s.jsx)("option",{value:"receivedForFree",children:"Marked as received for free"}),(0,s.jsx)("option",{value:"steamPurchase",children:"Purchased via Steam"}),(0,s.jsx)("option",{value:"votesUp",children:"Votes Helpful"}),(0,s.jsx)("option",{value:"votesFunny",children:"Votes funny"}),(0,s.jsx)("option",{value:"commentCount",children:"Comment count"})]}),(0,s.jsxs)(M.Z.Row,{children:[(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(M.Z.Check,{inline:!0,label:"Truncate long reviews",type:"checkbox",checked:i.truncateLongReviews,onChange:function(e){return de({label:"truncateLongReviews",value:e.target.checked})}})})}),(0,s.jsx)(M.Z.Group,{as:d.Z,children:(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(M.Z.Check,{inline:!0,label:(0,s.jsxs)(s.Fragment,{children:["Censor bad words ",(0,s.jsx)(w.Z,{variant:"info",children:"Experimental"})]}),type:"checkbox",checked:i.censorBadWords,onChange:function(e){return de({label:"censorBadWords",value:e.target.checked})}})})})]})]})})]})})},le=i(29009),ce=i(94831),de=i(4545),ue=i(3023),he=i(25048),me=i(14888),ve=i(87226),pe=i(47963),xe=function(e){var t=e.reviewStatistics;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{className:"mt-3",children:"Total Reviews Over Time"}),(0,s.jsx)(le.h,{width:"100%",height:400,children:(0,s.jsxs)(ce.v,{width:730,height:250,data:t.reviewVolumeOverTime,stackOffset:"sign",margin:{top:15,bottom:25},children:[(0,s.jsx)(de.d,{y:0,stroke:"#000"}),(0,s.jsx)(ue.K,{dataKey:"name",children:(0,s.jsx)(he._,{value:"Date",offset:-15,position:"insideBottom"})}),(0,s.jsx)(me.u,{}),(0,s.jsx)(ve.$,{dataKey:"Total Positive",stackId:"a",fill:"#c3e6cb"}),(0,s.jsx)(ve.$,{dataKey:"Total Negative",stackId:"a",fill:"#f5c6cb"}),(0,s.jsx)(pe.B,{dataKey:"name",height:30,stroke:"#dee2e6"})]})})]})},ge=i(2329),fe=i(83461),je=i(50202),we=i.n(je),ye=function(e){var t,i=e.game,o=e.reviews,l=e.filteredReviews,c=e.viewOptions,d=e.viewOptionsCallback,u=we()("".concat(i.steam_appid," ").concat(i.name," Reviews")).replace(/[^a-z0-9]/gi,"_"),h=(0,r.useState)(!1),m=h[0],v=h[1],p=(0,r.useState)(u),x=p[0],g=p[1],f=(0,r.useState)(!0),j=f[0],w=f[1],y=(0,r.useState)(!1),b=y[0],_=y[1],k=(0,r.useState)(o),C=k[0],N=k[1],T={className:"hidden",target:"_blank",headers:function(){var e=[{label:"recommendation_id",key:"recommendationid"},{label:"recommendation_url",key:"recommendationurl"},{label:"author_steam_id",key:"author.steamid"},{label:"author_number_games_owned",key:"author.num_games_owned"},{label:"author_number_reviews",key:"author.num_reviews"},{label:"author_minutes_playtime_last_two_weeks",key:"author.playtime_last_two_weeks"},{label:"author_last_played_timestamp",key:"author.last_played"},{label:"review",key:"review"},{label:"weighted_review_score",key:"weighted_vote_score"}];return-1===c.hiddenColumns.indexOf("timeCreated")&&e.push({label:"created_timestamp",key:"timestamp_created"}),-1===c.hiddenColumns.indexOf("timeUpdated")&&e.push({label:"updated_timestamp",key:"timestamp_updated"}),-1===c.hiddenColumns.indexOf("votedUp")&&e.push({label:"voted_up",key:"voted_up"}),-1===c.hiddenColumns.indexOf("language")&&e.push({label:"language",key:"language"}),-1===c.hiddenColumns.indexOf("playtimeAtReview")&&e.push({label:"author_minutes_playtime_at_review_time",key:"author.playtime_at_review"}),-1===c.hiddenColumns.indexOf("playtimeForever")&&e.push({label:"author_minutes_playtime_forever",key:"author.playtime_forever"}),-1===c.hiddenColumns.indexOf("earlyAccess")&&e.push({label:"written_during_early_access",key:"written_during_early_access"}),-1===c.hiddenColumns.indexOf("receivedForFree")&&e.push({label:"marked_as_received_for_free",key:"received_for_free"}),-1===c.hiddenColumns.indexOf("steamPurchase")&&e.push({label:"steam_purchase",key:"steam_purchase"}),-1===c.hiddenColumns.indexOf("votesUp")&&e.push({label:"voted_up",key:"voted_up"}),-1===c.hiddenColumns.indexOf("votesFunny")&&e.push({label:"votes_funny",key:"votes_funny"}),-1===c.hiddenColumns.indexOf("commentCount")&&e.push({label:"comment_count",key:"comment_count"}),e}()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(fe.CSVLink,(0,a.Z)((0,n.Z)({},T),{data:C,filename:x,ref:function(e){return t=e}})),(0,s.jsx)(O.Z,{className:"mt-3 mb-3",disabled:0===o.length,block:!0,onClick:function(){return v(!0)},children:"Export"}),(0,s.jsxs)(ge.Z,{show:m,onHide:function(){return v(!1)},children:[(0,s.jsx)(ge.Z.Header,{closeButton:!0,children:(0,s.jsx)(ge.Z.Title,{children:"Export Reviews"})}),(0,s.jsxs)(ge.Z.Body,{children:[(0,s.jsx)(M.Z.Label,{children:"Filename"}),(0,s.jsx)(M.Z.Control,{type:"text",placeholder:u,value:x,onChange:function(e){g(e.target.value)}}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Label,{children:"Selection"}),(0,s.jsx)("br",{}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"All",type:"radio",checked:j,onChange:function(e){w(e.target.checked),_(!e.target.checked),N(o)}}),(0,s.jsx)(M.Z.Check,{inline:!0,label:"Filtered",type:"radio",checked:b,onChange:function(e){_(e.target.checked),w(!e.target.checked),N(l)}}),(0,s.jsxs)("p",{children:[C.length," review",1!==C.length?"s":""," will be exported"]}),(0,s.jsxs)(M.Z.Label,{children:["Exclude Columns (",-1===c.hiddenColumns.indexOf("none")?c.hiddenColumns.length:c.hiddenColumns.length-1," excluded)"]}),(0,s.jsxs)(M.Z.Control,{as:"select",value:c.hiddenColumns,multiple:!0,onChange:function(e){return function(e){var t=e.label,i=e.value,s=(0,a.Z)((0,n.Z)({},c),(0,X.Z)({},t,i));d(s)}({label:"hiddenColumns",value:Array.from(e.target.selectedOptions,(function(e){return e.value}))})},children:[(0,s.jsx)("option",{value:"none",children:"---"}),(0,s.jsx)("option",{value:"timeCreated",children:"Time created"}),(0,s.jsx)("option",{value:"timeUpdated",children:"Time updated"}),(0,s.jsx)("option",{value:"votedUp",children:"Voted"}),(0,s.jsx)("option",{value:"language",children:"Language"}),(0,s.jsx)("option",{value:"playtimeAtReview",children:"Playtime at review time"}),(0,s.jsx)("option",{value:"playtimeForever",children:"Playtime forever"}),(0,s.jsx)("option",{value:"earlyAccess",children:"Written during early access"}),(0,s.jsx)("option",{value:"receivedForFree",children:"Marked as received for free"}),(0,s.jsx)("option",{value:"steamPurchase",children:"Purchased via Steam"}),(0,s.jsx)("option",{value:"votesUp",children:"Votes Helpful"}),(0,s.jsx)("option",{value:"votesFunny",children:"Votes funny"}),(0,s.jsx)("option",{value:"commentCount",children:"Comment count"})]})]}),(0,s.jsxs)(ge.Z.Footer,{children:[(0,s.jsx)(O.Z,{variant:"secondary",onClick:function(){return v(!1)},children:"Cancel"}),(0,s.jsx)(O.Z,{variant:"primary",onClick:function(){t.link.click(),v(!1)},children:"Save"})]})]})]})},be=function(e){e.game;var t=e.reviewStatistics;return 0===t.positiveWordFrequencyList.length||0===t.negativeWordFrequencyList.length||t.positiveWordFrequencyList.length!==t.negativeWordFrequencyList.length?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h5",{children:["Top 20 Frequently Occuring Words* ",(0,s.jsx)(w.Z,{variant:"info",children:"Experimental"})]}),(0,s.jsxs)(A.Z,{className:"mt-3",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{colSpan:2,className:"table-success",children:"Positive reviews"}),(0,s.jsx)("th",{colSpan:2,className:"table-danger",children:"Negative reviews"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-success",children:"Word"}),(0,s.jsx)("th",{className:"table-success",children:"Total occurences"}),(0,s.jsx)("th",{className:"table-danger",children:"Word"}),(0,s.jsx)("th",{className:"table-danger",children:"Total occurences"})]})]}),(0,s.jsx)("tbody",{children:t.positiveWordFrequencyList.map((function(e,i){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:i+1}),(0,s.jsx)("td",{className:"table-success",children:e[0]}),(0,s.jsx)("td",{className:"table-success",children:e[1]}),(0,s.jsx)("td",{className:"table-danger",children:t.negativeWordFrequencyList[i][0]}),(0,s.jsx)("td",{className:"table-danger",children:t.negativeWordFrequencyList[i][1]})]},i)}))})]}),(0,s.jsx)("p",{children:(0,s.jsxs)("small",{children:["*Excluding a ",(0,s.jsx)("a",{href:"https://github.com/joshhills/steam-review-explorer/blob/main/lib/utils/CommonWords.ts",children:"list of commonly occuring words"}),", and only counting each word once per review. Word clouds ",(0,s.jsx)("a",{href:"https://getthematic.com/insights/word-clouds-harm-insights/",children:"may provide misleading insights"}),"!"]})})]})},_e=i(20996),ke=i.n(_e),Ce=function(e){e.game;var t,i,n=e.reviewStatistics;return n.totalSwearWords.length>0&&(t=n.totalSwearWords.reduce((function(e,t){return e+t[1]}),0),i=Math.round(t/n.totalLanguages.english*100)),n.totalSwearWords.length>0?(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{children:"Total Profanity"}),(0,s.jsxs)(ke(),{children:[t," / ",n.totalLanguages.english," (",Math.round(i),"%) English reviews contain curse words, the most common being '",n.totalSwearWords[0][0],"' which appears in ",n.totalSwearWords[0][1]," reviews"]})]}):(0,s.jsx)(s.Fragment,{})},Ne=i(73604),Me=i(46208),Te=i(43815),Fe=function(e){e.game;var t,i=e.reviewStatistics,n=(t=i.totalLanguages,Object.entries(t).sort((function(e,t){return t[1]-e[1]})).map((function(e){return{name:_[e[0]].englishName,numReviews:e[1]}}))),a=["#024b7a","#03578f","#056aad","#0b76bd","#1586d1","#2c8bc9","#4093c9","#57a5d9","#5998c2","#75a8c9","#7ba9c7","#85b0cc","#94bad4","#9ec1d9","#a5c3d6","#bad6e8","#c5dded","#cadce8","#e4eff7"];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{className:"mt-3",children:"Language Distribution"}),(0,s.jsxs)(Ne.u,{width:400,height:400,children:[(0,s.jsx)(me.u,{}),(0,s.jsx)(Me.b,{data:n,dataKey:"numReviews",children:n.map((function(e,t){return(0,s.jsx)(Te.b,{fill:a[t%a.length]},"cell-".concat(t))}))})]})]})},Ze=i(98687),Se=i(56880),Pe=function(e){var t=e.reviewStatistics;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h5",{className:"mt-3",children:"Review Score Over Time"}),(0,s.jsx)(le.h,{width:"100%",height:400,children:(0,s.jsxs)(Ze.w,{width:500,height:300,data:t.reviewVolumeOverTime,margin:{top:15,bottom:25},children:[(0,s.jsx)(ue.K,{dataKey:"name",children:(0,s.jsx)(he._,{value:"Date",offset:-15,position:"insideBottom"})}),(0,s.jsx)(me.u,{}),(0,s.jsx)(Se.x,{type:"monotone",dataKey:"Review Score",stroke:"#82ca9d",dot:!1}),(0,s.jsx)(pe.B,{dataKey:"name",height:30,stroke:"#dee2e6"})]})})]})},Le=new RegExp("[\\p{L}0-9\\s]*","gmu"),Re=function(e){var t=e.game,i=e.reviews,n=e.reviewStatistics,a=function(e){return{searchTerm:"",languages:["english"],votedUpPositive:!0,votedUpNegative:!0,earlyAccessYes:!0,earlyAccessNo:!0,steamPurchaseYes:!0,steamPurchaseNo:!0,receivedForFreeYes:!0,receivedForFreeNo:!0,containsASCIIArtYes:!1,containsASCIIArtNo:!0,textLength:[n.reviewMinTextLength.review.length,n.reviewMaxTextLength.review.length],commentCount:[n.reviewMinCommentCount.comment_count,n.reviewMaxCommentCount.comment_count],votesHelpful:[n.reviewMinVotesUp.votes_up,n.reviewMaxVotesUp.votes_up],votesFunny:[n.reviewMinVotesFunny.votes_funny,n.reviewMaxVotesFunny.votes_funny],timeCreated:[new Date(1e3*n.reviewMinTimestampCreated.timestamp_created),new Date(1e3*n.reviewMaxTimestampCreated.timestamp_created)],timePlayedForever:[Math.floor(n.reviewMinTotalMinutesPlayedForever.author.playtime_forever/60),Math.ceil(n.reviewMaxTotalMinutesPlayedForever.author.playtime_forever/60)],timePlayedAtReviewTime:[Math.floor(n.reviewMinTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60),Math.ceil(n.reviewMaxTotalMinutesPlayedAtReviewTime.author.playtime_at_review/60)]}},o=function(e){return i.filter((function(t){if(e.searchTerm&&-1===t.review.toLowerCase().indexOf(e.searchTerm)&&t.recommendationid!=e.searchTerm)return!1;if(-1===e.languages.indexOf(t.language))return!1;if(!1===e.votedUpPositive&&t.voted_up||!1===e.votedUpNegative&&!t.voted_up)return!1;if(!1===e.earlyAccessYes&&t.written_during_early_access||!1===e.earlyAccessNo&&!t.written_during_early_access)return!1;if(!1===e.steamPurchaseYes&&t.steam_purchase||!1===e.steamPurchaseNo&&!t.steam_purchase)return!1;if(!1===e.receivedForFreeYes&&t.received_for_free||!1===e.receivedForFreeNo&&!t.received_for_free)return!1;if(e.timePlayedForever&&(t.author.playtime_forever/60<e.timePlayedForever[0]||t.author.playtime_forever/60>e.timePlayedForever[1]))return!1;if(e.timePlayedAtReviewTime&&(t.author.playtime_at_review/60<e.timePlayedAtReviewTime[0]||t.author.playtime_at_review/60>e.timePlayedAtReviewTime[1]))return!1;if(e.textLength&&(t.review.length<e.textLength[0]||t.review.length>e.textLength[1]))return!1;if(e.votesHelpful&&(t.votes_up<e.votesHelpful[0]||t.votes_up>e.votesHelpful[1]))return!1;if(e.votesFunny&&(t.votes_funny<e.votesFunny[0]||t.votes_funny>e.votesFunny[1]))return!1;if(e.commentCount&&(t.comment_count<e.commentCount[0]||t.comment_count>e.commentCount[1]))return!1;if(e.timeCreated&&(t.timestamp_created<e.timeCreated[0].getTime()/1e3||t.timestamp_created>e.timeCreated[1].getTime()/1e3))return!1;var i=t.review.length>1&&t.review.replace(Le,"").length>t.review.length/1.25;return!(!1===e.containsASCIIArtYes&&i||!1===e.containsASCIIArtNo&&!i)}))},l=(0,r.useState)(!1),c=l[0],d=l[1],u=(0,r.useState)(!0),h=u[0],m=u[1],v=(0,r.useState)(a()),j=v[0],w=v[1],y=(0,r.useState)(j),b=y[0],_=y[1],k=(0,r.useState)({hiddenColumns:["timeUpdated","language","earlyAccess","steamPurchase","receivedForFree"],truncateLongReviews:!0,censorBadWords:!0}),C=k[0],M=k[1],T=(0,r.useState)(o(j)),F=T[0],Z=T[1],S=(0,r.useState)(0),P=S[0],L=S[1],R=(0,r.useState)({id:"timestampUpdated",direction:"descending"}),A=R[0],O=R[1],U=function(e){M(e)},V=W().debounce((0,p.Z)((function(){return(0,x.__generator)(this,(function(e){return Z((function(e){return o(j).sort((function(e,t){return I(e,t,A.id,A.direction)}))})),L(0),_(j),d(!1),m(!1),[2]}))})),250),I=function(e,t,i,n){switch(i){case"timestampUpdated":return"ascending"===n?e.timestamp_updated-t.timestamp_updated:t.timestamp_updated-e.timestamp_updated;case"playtimeAtReview":return"ascending"===n?e.author.playtime_at_review-t.author.playtime_at_review:t.author.playtime_at_review-e.author.playtime_at_review;case"playtimeForever":return"ascending"===n?e.author.playtime_forever-t.author.playtime_forever:t.author.playtime_forever-e.author.playtime_forever;case"votesUp":return"ascending"===n?e.votes_up-t.votes_up:t.votes_up-e.votes_up;case"votesFunny":return"ascending"===n?e.votes_funny-t.votes_funny:t.votes_funny-e.votes_funny;case"commentCount":return"ascending"===n?e.comment_count-t.comment_count:t.comment_count-e.comment_count;case"textLength":return"ascending"===n?e.review.length-t.review.length:t.review.length-e.review.length;default:return"ascending"===n?e.timestamp_created-t.timestamp_created:t.timestamp_created-e.timestamp_created}},D=(0,s.jsx)(ye,{game:t,reviews:i,filteredReviews:F,viewOptions:C,viewOptionsCallback:U});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(g.Z,{defaultActiveKey:"reviews",className:"mt-1",children:[(0,s.jsxs)(f.Z,{eventKey:"reviews",title:"Reviews",children:[(0,s.jsx)(oe,{filters:j,viewOptions:C,viewOptionsCallback:U,reviews:F,updateFiltersCallback:function(e){d(!W().isEqual(e,b)),w(e)},applyFiltersCallback:V,cancelStagedFilterChangesCallback:function(){w(b),d(!1)},reviewStatistics:n,cachedFilters:b,dirty:c,zeroed:h,resetFiltersCallback:function(){var e=a();w(e),Z((function(t){return o(e).sort((function(e,t){return I(e,t,A.id,A.direction)}))})),L(0),_(e),d(!1),m(!0)}}),(0,s.jsx)(q,{exportComponent:D,index:P,filters:j,viewOptions:C,game:t,reviews:F,sorting:A,handleSort:function(e){var t,i;e===A.id?(t=e,"ascending"===A.direction?i="descending":"descending"===A.direction&&(i="ascending")):(t=e,i="descending"),O((function(e){return{id:t,direction:i}})),Z((function(e){return e.sort((function(e,n){return I(e,n,t,i)}))}))},handleChangeIndex:L})]}),(0,s.jsxs)(f.Z,{eventKey:"statistics",title:"Statistics",className:"pb-3 pt-3",children:[(0,s.jsx)(xe,{reviewStatistics:n}),(0,s.jsx)(Pe,{reviewStatistics:n}),(0,s.jsx)($,{game:t,reviewStatistics:n}),(0,s.jsx)(Fe,{game:t,reviewStatistics:n}),(0,s.jsx)(be,{game:t,reviewStatistics:n}),(0,s.jsx)(Ce,{game:t,reviewStatistics:n})]}),(0,s.jsx)(f.Z,{eventKey:"highlighted",title:"Highlighted",children:(0,s.jsx)(N,{game:t,reviewStatistics:n})})]})})},Ae=i(10682),Oe=i(51479);var Ue=function(e){var t=e.game,i=e.update,n=e.error;i.count>t.total_reviews&&(i.count=t.total_reviews);var a=Math.round(i.count/t.total_reviews*100),r=i.count.toLocaleString(),o=t.total_reviews.toLocaleString(),l=Math.round(i.bytes/1e3).toLocaleString(),c=function(e){var t=function(e){return("0"+e).slice(-2)},i=new Date(1e3*Math.round(e/1e3));return i.getUTCHours()+":"+t(i.getUTCMinutes())+":"+t(i.getUTCSeconds())}((t.total_reviews-i.count)/100*i.averageRequestTime),d=i.finished?(0,s.jsxs)("p",{children:["Finished loading ",r," review",1!==i.count?"s":""," for ",t.name,", computing statistics..."]}):(0,s.jsxs)("p",{children:["Loading ",(0,s.jsx)("code",{children:r})," of an estimated ",(0,s.jsx)("code",{children:o})," review",t.total_reviews>1?"s":""," (",(0,s.jsxs)("code",{children:["~",l,"kb"]}),") for ",t.name,", estimated time remaining ",(0,s.jsx)("code",{children:c})]});return(0,s.jsxs)(Ae.Z,{children:[(0,s.jsx)(Oe.Z,{className:"mb-3",now:a,label:"".concat(a,"%")}),d,n&&(0,s.jsxs)("p",{className:"text-warning",children:["Having trouble communicating with Steam, retrying (attempt ",n.attemptNumber," of ",n.attemptNumber+n.triesLeft,")"]}),(0,s.jsx)(O.Z,{variant:"secondary",href:"/steam-review-explorer/",children:"Cancel"})]})},Ve=i(52091),Ie=function(e){var t=e.game,i="dlc"===t.type?"DLC":t.type.charAt(0).toUpperCase()+t.type.slice(1),n=t.developers.join(", ");return(0,s.jsxs)(c.Z,{children:[(0,s.jsx)(d.Z,{md:"auto",className:"mb-5",children:(0,s.jsx)("img",{style:{maxWidth:"100%"},src:t.header_image})}),(0,s.jsxs)(d.Z,{className:"mb-5",children:[(0,s.jsxs)("h4",{children:[t.name," ",(0,s.jsx)(Ve.Z,{game:t,showTooltip:!1})]}),(0,s.jsxs)("p",{className:"text-muted mb-2",children:[i," by ",n," ",t.release_date.coming_soon?"coming soon":"released ".concat(t.release_date.date)]}),(0,s.jsxs)("p",{className:"text-muted small",children:["App ID: ",t.steam_appid," | ",(0,s.jsx)("a",{className:"text-muted",href:"https://store.steampowered.com/app/".concat(t.steam_appid),target:"_blank",children:"Steam Store Page"})]}),(0,s.jsx)("p",{children:t.short_description})]})]})},We=i(41664),De=i.n(We),Be=i(10797),ze=["yes","no","maybe","good","bad","great","mostly","awful","terrible","fun","time","better","dont","wont","the","and","that","for","you","are","this","games","game","have","all","but","not","was","with","without","out","will","itself","got","shall","shan","such","both","many","can","could","would","should","did","some","one","two","three","four","five","six","seven","eight","nine","ten","play","they","them","there","their","who","why","has","over","your","most","more","then","again","ever","while","buy","honestly","very","actually","too","had","like","just","from","really","even","what","don","doesn","people","cannot","than","does","now","back","otherwise","because","anything","seem","seems","recommend","times","want","played","get","gets","use","useful","review","reviews","isn","only","its","these","how","still","when","know","which","any","way","other","first","second","third","low","high","having","well","also","lot","were","into","top","say","few","made","didn","bit","think","around","though","thing","something","after","rather","until","off","being","much","about","nothing","never","those","see","need","much","see","where","little","every","especially","give","must","before","things","here","wait","hope","own","make","etc","early","access","part","being","been","going","yet","once","twice","www","http","https","youtube","com","watch","through","near","far","wasn","last","away","feels","find"],Ee={fuck:"fuck",fucks:"fuck",fucky:"fuck",fuckin:"fuck",fucking:"fuck",fucko:"fuck",fucker:"fuck",fucked:"fuck",fucc:"fuck",fucken:"fuck",fukken:"fuck",frick:"fuck",motherfucker:"fuck",mofo:"fuck",muhfuck:"fuck",muhfucker:"fuck",motherfuck:"fuck",mofuck:"fuck",frickin:"fuck",bumblefuck:"fuck",bumfuck:"fuck",clusterfuck:"fuck",facefuck:"fuck",fingerfuck:"fuck",fuckabout:"fuck",fuckaround:"fuck",fuckboy:"fuck",fook:"fuck",feck:"fuck",fookin:"fuck",fooking:"fuck",fecking:"fuck",feckin:"fuck",fuckery:"fuck",fuckface:"fuck",fack:"fuck",fak:"fuck",fuckity:"fuck",mindfuck:"fuck",frack:"fuck",facking:"fuck",freakin:"fuck",freaking:"fuck",freaker:"fuck",fuuck:"fuck",fuuuck:"fuck",sex:"fuck",shag:"fuck",shagging:"fuck",sext:"fuck",sexting:"fuck",humping:"fuck",damn:"damn",dang:"dang",damned:"damn",dagnabbit:"damn",dam:"damn",damm:"damn",bloody:"bloody",bleeding:"bloody",ruddy:"bloody",shit:"shit",shits:"shit",shite:"shit",shittiest:"shit",shiter:"shit",shiters:"shit",shitey:"shit",shitty:"shit",shitter:"shit",shitters:"shit",shat:"shit",shats:"shit",sheet:"shit",sheets:"shit",sheeit:"shit",shiz:"shit",shizzle:"shit",shittest:"shit",shitbag:"shit",shitbags:"shit",crap:"shit",craps:"shit",crapper:"shit",crappers:"shit",scat:"shit",bullshit:"shit",bullshitting:"shit",bitch:"bitch",bitching:"bitch",bitchin:"bitch",bizzle:"bitch",bitches:"bitch",biatch:"bitch",biatches:"bitch",biznatch:"bitch",bish:"bitch",beech:"bitch",sob:"bitch",asshole:"asshole",assholes:"asshole",arsehole:"asshole",arseholes:"asshole",butthole:"asshole",buttholes:"asshole",arse:"asshole",arses:"asshole",arseface:"asshole",bunghole:"asshole",bungholes:"asshole",ahole:"asshole",bhole:"asshole",rectum:"asshole",dick:"dick",dicks:"dick",dicked:"dick",dickwad:"dick",dicky:"dick",dicking:"dick",cock:"dick",cocks:"dick",peepee:"dick",peepees:"dick",dildo:"dick",dildos:"dick",penis:"dick",schlong:"dick",prick:"dick",bellend:"dick",knob:"dick",nob:"dick",cunt:"cunt",vag:"cunt",fanny:"cunt",twat:"cunt",twot:"cunt",twatty:"cunt",vulva:"cunt",pussy:"cunt",clunge:"cunt",gash:"cunt",punani:"cunt",bastard:"bastard",bastards:"bastard",basterd:"bastard",basterds:"bastard",bastad:"bastard",bastads:"bastard",cum:"cum",semen:"cum",spunk:"cum",spunked:"cum",spooge:"cum",spooging:"cum",spooged:"cum",splooge:"cum",splooging:"cum",splooged:"cum",cumming:"cum",cummin:"cum",cums:"cum",coom:"cum",cooms:"cum",coomer:"cum",cummies:"cum",cummy:"cum",ejaculation:"cum",jerkoff:"jerkoff",jackoff:"jerkoff",wank:"jerkoff",masturbate:"jerkoff",handjob:"jerkoff",jobbie:"jerkoff",piss:"piss",pisses:"piss",pee:"piss",pees:"piss",pisss:"piss",pissing:"piss",pissed:"piss",blowjob:"blowjob",blowjobs:"blowjob",blowie:"blowjob",blowies:"blowjob",jobby:"blowjob",jobbies:"blowjob",faggot:"the F word",fag:"the F word",faggy:"the F word",homo:"the F word",gayass:"the F word",nigger:"the N word",niggers:"the N word",nagger:"the N word",nigga:"the N word",niggas:"the N word",negro:"the N word",negros:"the N word",darkie:"the N word",darkies:"the N word",balls:"balls",bollocks:"balls",bollock:"balls",bollocking:"balls",douche:"douche",douches:"douche",douching:"douche",tosser:"tosser",tossa:"tosser",pedophile:"pedophile",pedo:"pedophile",paedophile:"pedophile",paedo:"pedophile",kiddyfiddler:"pedophile",pedobear:"pedophile"},He="dd/mm/yy",Ge=function(e){return e-=e%864e5,new Date(e)};function Ke(e,t){return e.length>2&&!t.includes(e.toLowerCase())}var Ye={processReviewsForGame:function(e,t){var i,n,a=function(e,t){return e.sort((function(e,i){return t(e)-t(i)})),e.length%2===0?(t(e[e.length/2])+t(e[e.length/2-1]))/2:t(e[(e.length-1)/2])},s=t.length,r=0,o=0,l=0,c=0,d=0,u=0,h=0,m=0,v=0,p=0,x={},g=null,f=null,j=null,w=null,y=null,_=null,k=null,C=null,N=null,M=null,T=null,F=null,Z=null,S=null,P=null,L=null,R={},A=new Map,O=new Map,U=e.name.match(/\b(\w+)\b/g);i=null!==U?(n=ze).concat.apply(n,(0,Be.Z)(U)).map((function(e){return e.toLowerCase()})):ze.map((function(e){return e.toLowerCase()}));var V={},I=!0,W=!1,D=void 0;try{for(var B,z=function(){var e=B.value;if("english"===e.language){var t=e.review.match(/\b(\w+)\b/g);if(null!==t&&(t=(0,Be.Z)(new Set(t)).map((function(e){return e.toLowerCase()}))),null!==t){var n=!0,a=!1,s=void 0;try{for(var U,I=t[Symbol.iterator]();!(n=(U=I.next()).done);n=!0){var W=U.value;if(Ke(W,i)&&(e.voted_up?A.has(W)?A.set(W,A.get(W)+1):A.set(W,1):O.has(W)?O.set(W,O.get(W)+1):O.set(W,1)),Ee[W]){var D=Ee[W];V[D]?V[D]+=1:V[D]=1}}}catch(E){a=!0,s=E}finally{try{n||null==I.return||I.return()}finally{if(a)throw s}}}}u+=e.review.length,void 0===x[e.language]?x[e.language]=1:x[e.language]++,e.voted_up?r++:o++,e.steam_purchase&&m++,e.received_for_free&&v++,e.written_during_early_access&&p++,e.comment_count>0&&h++,(null===N||e.comment_count<N.comment_count)&&(N=e),(null===M||e.comment_count>M.comment_count)&&(M=e),(null===T||e.votes_up<T.votes_up)&&(T=e),(null===F||e.votes_up>F.votes_up)&&(F=e),(null===Z||e.votes_funny<Z.votes_funny)&&(Z=e),(null===S||e.votes_funny>S.votes_funny)&&(S=e),(null===P||e.review.length<P.review.length)&&(P=e),(null===L||e.review.length>L.review.length)&&(L=e),e.timestamp_updated!==e.timestamp_created&&(d++,(null===j||e.timestamp_updated<j.timestamp_updated)&&(j=e),(null===w||e.timestamp_updated>w.timestamp_updated)&&(w=e)),l+=e.author.playtime_forever,c+=e.author.playtime_at_review,(null===y||e.author.playtime_forever<y.author.playtime_forever)&&(y=e),(null===_||e.author.playtime_forever>_.author.playtime_forever)&&(_=e),(null===k||e.author.playtime_at_review<k.author.playtime_at_review)&&(k=e),(null===C||e.author.playtime_at_review>C.author.playtime_at_review)&&(C=e),(null===g||e.timestamp_created<g.timestamp_created)&&(g=e),(null===f||e.timestamp_created>f.timestamp_created)&&(f=e);var z=Ge(1e3*e.timestamp_created).getTime()/1e3;void 0!==R[z]?e.voted_up?R[z]["Total Positive"]++:R[z]["Total Negative"]--:e.voted_up?R[z]={name:b()(new Date(1e3*z),He),"Total Positive":1,"Total Negative":0,asEpoch:z}:R[z]={name:b()(new Date(1e3*z),He),"Total Positive":0,"Total Negative":-1,asEpoch:z}},E=t[Symbol.iterator]();!(I=(B=E.next()).done);I=!0)z()}catch(le){W=!0,D=le}finally{try{I||null==E.return||E.return()}finally{if(W)throw D}}var H=(0,Be.Z)(A.entries()).sort((function(e,t){return t[1]-e[1]})).slice(0,20),G=(0,Be.Z)(O.entries()).sort((function(e,t){return t[1]-e[1]})).slice(0,20),K=Object.entries(V).sort((function(e,t){return t[1]-e[1]})),Y=Math.floor(c/s),q=Math.floor(l/s),$=Math.floor(a(t,(function(e){return e.author.playtime_forever}))),X=Math.floor(a(t,(function(e){return e.author.playtime_at_review}))),J=Math.floor(u/s);null===w&&(w=f);for(var Q=Ge(1e3*g.timestamp_created).getTime()/1e3;Q<f.timestamp_created;Q+=86400)void 0===R[Q]&&(R[Q]={name:b()(new Date(1e3*Q),He),"Total Positive":0,"Total Negative":0,asEpoch:Q});R=Object.values(R).sort((function(e,t){return e.asEpoch-t.asEpoch}));var ee=0,te=0,ie=!0,ne=!1,ae=void 0;try{for(var se,re=R[Symbol.iterator]();!(ie=(se=re.next()).done);ie=!0){var oe=se.value;ee+=oe["Total Positive"],te+=Math.abs(oe["Total Negative"]),oe["Review Score"]=Math.round(ee/(ee+te)*100)}}catch(le){ne=!0,ae=le}finally{try{ie||null==re.return||re.return()}finally{if(ne)throw ae}}return t.sort((function(e,t){return t.timestamp_updated-e.timestamp_updated})),{totalReviews:s,totalReviewsPositive:r,totalReviewsNegative:o,totalMinutesPlayedForever:l,totalMinutesPlayedAtReviewTime:c,totalReviewsUpdated:d,totalWithComments:h,totalPurchasedViaSteam:m,totalMarkedAsReceivedForFree:v,totalWrittenDuringEarlyAccess:p,totalLanguages:x,averageMinutesPlaytimeAtReviewTime:Y,averageMinutesPlaytimeForever:q,medianMinutesPlayedForever:$,medianMinutesPlayedAtReviewTime:X,reviewMinTimestampCreated:g,reviewMaxTimestampCreated:f,reviewMinTimestampUpdated:j,reviewMaxTimestampUpdated:w,reviewMinTotalMinutesPlayedForever:y,reviewMaxTotalMinutesPlayedForever:_,reviewMinTotalMinutesPlayedAtReviewTime:k,reviewMaxTotalMinutesPlayedAtReviewTime:C,reviewMinCommentCount:N,reviewMaxCommentCount:M,reviewMinVotesUp:T,reviewMaxVotesUp:F,reviewMinVotesFunny:Z,reviewMaxVotesFunny:S,reviewMinTextLength:P,reviewMaxTextLength:L,averageTextLength:J,reviewVolumeOverTime:R,positiveWordFrequencyList:H,negativeWordFrequencyList:G,totalSwearWords:K}},sortReviews:null,filterReviews:null},qe=function(){var e=(0,r.useState)(null),t=e[0],i=e[1],p=(0,r.useState)(!0),x=p[0],g=p[1],f=(0,r.useState)(null),j=f[0],w=f[1],y=(0,r.useState)(null),b=y[0],_=y[1],k=(0,r.useState)(null),C=k[0],N=k[1],M=(0,r.useState)(null),T=M[0],F=M[1],Z=(0,r.useState)({count:0,averageRequestTime:0,bytes:0,finished:!1}),S=Z[0],P=Z[1],L=(0,o.useRouter)().query.appId;return null===t&&void 0!==L&&l.Z.getGame(L).then((function(e){return i(e),e})).then((function(e){l.Z.getReviews(e,L,P,_).then((function(t){var s=Ye.processReviewsForGame(e,t);F(s),N(t),t.length<e.total_reviews&&(w({originalTotal:e.total_reviews}),i((0,a.Z)((0,n.Z)({},e),{total_reviews:t.length,total_positive:s.totalReviewsPositive,total_negative:s.totalReviewsNegative})))}))})),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)(d.Z,{children:[t&&C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Z,{className:"mb-5",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(De(),{href:"/",children:"Home"})}),(0,s.jsx)(u.Z.Item,{active:!0,children:t.name})]}),(0,s.jsx)(Ie,{game:t})]}),t&&(C?(0,s.jsxs)(s.Fragment,{children:[j&&(0,s.jsxs)(h.Z,{show:x,onClose:function(){return g(!1)},variant:"warning",dismissible:!0,children:["Steam reported a total of ",j.originalTotal.toLocaleString()," reviews but ",C.length.toLocaleString()," ",1!==C.length?"were":"was"," retrieved."," ",(0,s.jsx)(De(),{href:"/about#known-issues-mismatched-totals",children:"Why can this happen?"}),C.length>3e4&&C.length<=5e4&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),"Due to the large number of reviews for this product the site may perform slowly"]}),C.length>5e4&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),"Due to the large number of reviews for this product, the site may perform slowly and even crash"]})]}),(0,s.jsx)(Re,{game:t,reviews:C,reviewStatistics:T})]}):(0,s.jsx)(Ue,{game:t,update:S,error:b})),!t&&(0,s.jsx)(c.Z,{children:(0,s.jsx)(m.Z,{className:"mx-auto mt-2",animation:"border",role:"status",children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})})})]})})]})}}},function(e){e.O(0,[662,885,571,398,941,372,774,888,179],(function(){return t=4788,e(e.s=t);var t}));var t=e.O();_N_E=t}]);