(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{4788:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[appId]",function(){return a(56764)}])},62257:function(e,t,a){"use strict";var r=a(26042),i=a(69396),n=a(85893),s=(a(67294),a(27977)),l=a(63178),o=a(43489);t.Z=function(e){var t,a=e.game,c=e.showTooltip;switch(a.review_score_desc.toLowerCase()){case"overwhelmingly positive":case"very positive":case"positive":case"mostly positive":t="success";break;case"mixed":t="warning";break;case"mostly negative":case"negative":case"very negative":case"overwhelmingly negative":t="danger";break;default:t="secondary"}var d=(0,n.jsx)(s.Z,{className:"mb-1 me-1",bg:t,children:a.review_score_desc}),u=Math.round(a.total_positive/a.total_reviews*100);return c?(0,n.jsx)(l.Z,{placement:"top",delay:{show:250,hide:400},overlay:function(e){return a.total_reviews>0?(0,n.jsx)(o.Z,(0,i.Z)((0,r.Z)({id:"score-".concat(a.steamp_appid)},e),{children:1===a.total_reviews?(0,n.jsxs)(n.Fragment,{children:["The one review for this game is ",100===u?"positive":"negative"]}):(0,n.jsxs)(n.Fragment,{children:[u,"% of the ",a.total_reviews.toLocaleString()," reviews for this ","dlc"===a.type?"DLC":a.type," are positive"]})})):(0,n.jsx)("p",{})},children:d}):d}},56764:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Xe}});var r=a(26042),i=a(69396),n=a(85893),s=a(67294),l=a(11163),o=a(76572),c=a(34051),d=a(31555),u=a(26699),h=a(88375),m=a(35005),v=a(36968),x=a(47568),g=a(14924),p=a(828),w=a(29815),f=a(70655),y=a(85509),j=a(73192),_=a(78182),b=a(27977),N=a(48116),k=a.n(N),M=a(27404),C="dd/mm/yyyy h:MM:sstt",T=function(e){var t=e.game,a=e.titles,r=e.review,i=a.join(", ");i=i.charAt(0).toUpperCase()+i.slice(1);var s=Math.round(r.author_playtime_forever/60),l=Math.round(r.author_playtime_at_review/60),o="https://steamcommunity.com/profiles/".concat(r.author_steamid,"/recommended/").concat(t.steam_appid,"/");return(0,n.jsx)(_.Z,{className:"mb-4 mt-4",border:r.voted_up?"success":"danger",children:(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:i}),(0,n.jsxs)(_.Z.Subtitle,{className:"mb-2",children:[r.voted_up?"\ud83d\udc4d Recommended":"\ud83d\udc4e Not recommended"," with ",r.author_playtime_forever<60?"".concat(r.author_playtime_forever," minute").concat(1!==r.author_playtime_forever?"s":""):"".concat(s.toLocaleString()," hour").concat(1!==s?"s":"")," recorded ",r.author_playtime_at_review!==r.author_playtime_forever?r.author_playtime_at_review<60?"(".concat(r.author_playtime_at_review," minute").concat(1!==r.author_playtime_at_review?"s at review time)":" at review time)"):"(".concat(l.toLocaleString()," hour").concat(1!==l?"s at review time)":" at review time)"):""]}),(0,n.jsx)(_.Z.Subtitle,{className:"mb-2",children:(0,n.jsxs)("a",{href:o,target:"_blank",children:["Posted in ",M.Z[r.language].englishName," @ ",k()(new Date(1e3*r.timestamp_created),C)," ",r.timestamp_created!==r.timestamp_updated&&"(Updated ".concat(k()(new Date(1e3*r.timestamp_updated),C),")")]})}),(0,n.jsxs)(_.Z.Subtitle,{className:"mb-2 text-muted",children:[r.written_during_early_access&&(0,n.jsx)(b.Z,{className:"mr-1",bg:"primary",children:"Written during early access"}),r.received_for_free&&(0,n.jsx)(b.Z,{bg:"primary",children:"Marked as received for free"})]}),(0,n.jsx)(_.Z.Text,{style:{overflow:"hidden"},children:r.review}),r.author_num_reviews>1&&(0,n.jsxs)(_.Z.Subtitle,{className:"mb-2 text-muted small",children:[r.author_num_reviews.toLocaleString()," reviews written"]}),r.votes_up>0&&(0,n.jsxs)(_.Z.Subtitle,{className:"mb-2 text-muted small",children:[r.votes_up," ",1===r.votes_up?"person":"people"," found this review helpful"]}),r.votes_funny>0&&(0,n.jsxs)(_.Z.Subtitle,{className:"mb-2 text-muted small",children:[r.votes_funny," ",1===r.votes_funny?"person":"people"," found this review funny"]}),r.comment_count>0&&(0,n.jsxs)(_.Z.Subtitle,{className:"mb-2 text-muted small",children:["There ",1===r.comment_count?"is":"are"," ",r.comment_count," ",1===r.comment_count?"comment":"comments"," on this review"]})]})})},Z=function(e){var t=e.game,a=e.reviewStatistics,r={},i=function(e,t){r[t.recommendationid]?r[t.recommendationid].titles.push(e):r[t.recommendationid]={titles:[e],review:t}};return a.totalReviews>1&&(i("highest playtime at review time",a.reviewMaxTotalMinutesPlayedAtReviewTime),i("highest playtime forever",a.reviewMaxTotalMinutesPlayedForever),i("longest",a.reviewMaxTextLength),a.reviewMaxVotesUp.votes_up>0&&i("most helpful",a.reviewMaxVotesUp),a.reviewMaxVotesFunny.votes_funny>0&&i("most funny",a.reviewMaxVotesFunny),a.reviewMaxCommentCount.comment_count>0&&i("most comments",a.reviewMaxCommentCount),a.reviewMaxAuthorNumReviews.author_num_reviews>1&&i("most reviews written",a.reviewMaxAuthorNumReviews)),(0,n.jsxs)(n.Fragment,{children:[Object.values(r).map((function(e){return(0,n.jsx)(T,{game:t,titles:e.titles,review:e.review},e.review.recommendationid)})),0===Object.values(r).length&&(0,n.jsx)("p",{className:"mt-3",children:"This product has too few reviews to determine highlighted ones"})]})},S=a(10682),L=function(e){var t=e.handleFilterPreset,a=(e.initialFilterRanges,e.reviewStatistics),r=e.game,i=Object.keys(a.totalLanguages).sort((function(e,t){return M.Z[e].englishName<M.Z[t].englishName?-1:1})).map((function(e){return{label:M.Z[e].englishName,value:e}})),s=[],l=!0,o=!1,c=void 0;try{for(var d,u=Object.keys(a.totalLanguages)[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var h=d.value;-1!==Object.keys(r.unsupported_languages).indexOf(h)&&s.push({label:M.Z[h].englishName,value:h})}}catch(v){o=!0,c=v}finally{try{l||null==u.return||u.return()}finally{if(o)throw c}}return(0,n.jsx)(S.Z,{children:(0,n.jsxs)("div",{className:"row mt-4",children:[s.length>0&&(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/localisation-issues.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsxs)(_.Z.Title,{className:"mb-3",children:["Find localisation issues ",(0,n.jsx)(b.Z,{bg:"info",children:"New"})]}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show negative reviews made in unsupported languages"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){t({languages:s,votedUpNegative:!0,votedUpPositive:!1})},children:"Apply filters"})})})]})}),(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/happy-content-creators.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:"Find happy content creators"}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show positive reviews containing URLs that may point to videos, blogs"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){t({languages:i,votedUpPositive:!0,votedUpNegative:!1,containsUrlYes:!0,containsUrlNo:!1})},children:"Apply filters"})})})]})}),(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/new-technical-issues.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:"Find new technical issues"}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show reviews from the last 24 hours containing key words related to bugs"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){var e=new Date,a=new Date;a.setHours(a.getHours()-24),t({searchTerm:"crash bug issue performance lag",exactSearchTerm:"partialIgnoreCase",timeCreated:[a,e]})},children:"Apply filters"})})})]})}),(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/conversation-starters.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:"Find conversation starters"}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show reviews with more than one comment"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){t({commentCount:[2,a.reviewMaxCommentCount.comment_count]})},children:"Apply filters"})})})]})}),(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/critical-holdouts.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:"Find critical holdouts"}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show negative reviews that have more than average playtime"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){var e=Math.ceil(a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever/60),r=Math.round(a.averageMinutesPlaytimeAtReviewTime/60);t({votedUpNegative:!0,votedUpPositive:!1,timePlayedForever:[r+1,e]})},children:"Apply filters"})})})]})}),(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/novellists.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:"Find the novellists"}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show reviews that are longer than average length"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){t({textLength:[a.averageTextLength+1,a.reviewMaxTextLength.review.length]})},children:"Apply filters"})})})]})}),(0,n.jsx)("div",{className:"col-auto mb-3",children:(0,n.jsxs)(_.Z,{className:"mb-4 prompt-card",children:[(0,n.jsx)(_.Z.Img,{variant:"top",src:"/steam-review-explorer/prompt-images/keyboard-artists.jpg"}),(0,n.jsxs)(_.Z.Body,{children:[(0,n.jsx)(_.Z.Title,{className:"mb-3",children:"Find the keyboard artists"}),(0,n.jsx)(_.Z.Text,{className:"small",children:"Show reviews that are primarily ASCII art"})]}),(0,n.jsx)(_.Z.Footer,{children:(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(m.Z,{variant:"primary",onClick:function(){t({languages:i,containsASCIIArtYes:!0,containsASCIIArtNo:!1})},children:"Apply filters"})})})]})})]})})},P=a(40469),F=a(52091),A=a(52205),R=function(e){var t=function(e){d.push((0,n.jsx)(A.Z.Item,{active:r===e,onClick:function(){return l(e)},children:e+1},e))},a=e.pageBuffer,r=e.currentIndex,i=e.lastIndex,s=e.callback,l=function(e){e>=0&&e<=i&&s(e)},o=r-a,c=r+a;c>i&&(c=i,o=i-2*a),o<0&&(o=0,c=2*a),c>i&&(c=i);for(var d=[],u=o;u<=c;u++)t(u);return(0,n.jsxs)(A.Z,{className:"mt-3",children:[(0,n.jsx)(A.Z.First,{disabled:0===r,onClick:function(){return l(0)}}),(0,n.jsx)(A.Z.Prev,{disabled:0===r,onClick:function(){return l(r-1)}}),d,(0,n.jsx)(A.Z.Next,{disabled:r===i,onClick:function(){return l(r+1)}}),(0,n.jsx)(A.Z.Last,{disabled:r===i,onClick:function(){return l(i)}})]})},O=a(51438),U=a(88029),I=a(16567),W=a(60357),B=a.n(W),D=a(75147),G=a(37763),V=a.n(G),E=a(96486),Y=a.n(E),q=function(e){var t=e.review,a=e.viewOptions,r=e.filters,i=e.textLength,l=i<256?256:i,o=(0,s.useState)(!a.truncateLongReviews),c=o[0],d=o[1],u=(0,s.useState)(!a.truncateLongReviews),h=u[0],v=u[1],x=(0,s.useState)(!1),g=x[0],p=x[1],w=(0,s.useState)(null),f=w[0],y=w[1];c!==!a.truncateLongReviews&&(d(!a.truncateLongReviews),v(!a.truncateLongReviews));var j=t.review.length>l,_=a.censorBadWords&&void 0!==t.censored?Y().truncate(t.censored,{length:l}):Y().truncate(t.review,{length:l}),b=a.censorBadWords&&void 0!==t.censored?t.censored:t.review;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V(),{highlightClassName:"highlighted",searchWords:"partialIgnoreCase"===r.exactSearchTerm?[r.searchTerm].concat(r.searchTerm.split(" ")):[r.searchTerm],autoEscape:!0,textToHighlight:h?b:_}),(0,n.jsx)("br",{}),j&&!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){return v(!0)},children:[(0,n.jsx)(F.NWQ,{})," View more"]}),"\xa0\xa0"]}),j&&h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){return v(!1)},children:[(0,n.jsx)(F.ZTc,{})," View less"]}),"\xa0\xa0"]}),(0,n.jsx)(m.Z,{className:"p-0",variant:"link",onClick:function(){clearTimeout(f),navigator.clipboard.writeText(b),p(!0);var e=setTimeout((function(){p(!1)}),3e3);y(e)},children:g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.esY,{})," Copied"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.Dup,{})," Copy"]})})]})},H="dd/mm/yyyy h:MM:sstt",z=function(e){var t=e.viewOptions,a=e.filters,r=(e.game,e.review),i=e.reviewTextTruncateLength,s=k()(new Date(1e3*r.timestamp_created),H),l=r.timestamp_updated>r.timestamp_created?k()(new Date(1e3*r.timestamp_updated),H):"",o=r.author_last_played>0?k()(new Date(1e3*r.author_last_played),H):"",c=M.Z[r.language].englishName,d=Math.round(r.author_playtime_at_review/60),u=Math.round(r.author_playtime_forever/60),h=Math.round(r.author_playtime_last_two_weeks/60),m=r.author_playtime_at_review<60?"".concat(r.author_playtime_at_review," minute").concat(1!==r.author_playtime_at_review?"s":""):"".concat(d.toLocaleString()," hour").concat(1!==d?"s":""),v=r.author_playtime_forever<60?"".concat(r.author_playtime_forever," minute").concat(1!==r.author_playtime_forever?"s":""):"".concat(u.toLocaleString()," hour").concat(1!==u?"s":""),x=r.author_playtime_last_two_weeks<60?"".concat(r.author_playtime_last_two_weeks," minute").concat(1!==r.author_playtime_last_two_weeks?"s":""):"".concat(h.toLocaleString()," hour").concat(1!==h?"s":""),g=t.hiddenColumns.map((function(e){return e.value}));return(0,n.jsxs)("tr",{className:"jsx-3f8337d361d7348f "+((r.voted_up?"table-success":"table-danger")||""),children:[(0,n.jsx)(B(),{id:"3f8337d361d7348f",children:"div.jsx-3f8337d361d7348f{padding-left:12px;padding-right:12px}"}),(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("a",{href:r.recommendationurl,target:"_blank",className:"jsx-3f8337d361d7348f",children:r.recommendationid})})}),-1===g.indexOf("timeCreated")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:s})}),-1===g.indexOf("timeUpdated")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:l})}),-1===g.indexOf("votedUp")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.voted_up?(0,n.jsx)(F.nM7,{}):(0,n.jsx)(F.VK,{})})}),-1===g.indexOf("language")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:c})}),(0,n.jsx)("td",{style:{wordBreak:"break-word",minWidth:"350px",overflow:"hidden"},className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)(q,{review:r,viewOptions:t,filters:a,textLength:i})})}),-1===g.indexOf("playtimeAtReview")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:m})}),-1===g.indexOf("playtimeForever")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:v})}),-1===g.indexOf("playtime2Weeks")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:x})}),-1===g.indexOf("earlyAccess")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.written_during_early_access&&(0,n.jsx)(F.l_A,{})})}),-1===g.indexOf("receivedForFree")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.received_for_free&&(0,n.jsx)(F.l_A,{})})}),-1===g.indexOf("steamPurchase")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.steam_purchase&&(0,n.jsx)(F.l_A,{})})}),-1===g.indexOf("authorNumReviews")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.author_num_reviews.toLocaleString()})}),-1===g.indexOf("authorNumGames")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.author_num_games_owned.toLocaleString()})}),-1===g.indexOf("authorContinuedPlaying")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.author_continued_playing&&(0,n.jsx)(F.l_A,{})})}),-1===g.indexOf("authorLastPlayed")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:o})}),-1===g.indexOf("votesUp")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.votes_up.toLocaleString()})}),-1===g.indexOf("votesFunny")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.votes_funny.toLocaleString()})}),-1===g.indexOf("commentCount")&&(0,n.jsx)("td",{className:"jsx-3f8337d361d7348f",children:(0,n.jsx)("div",{className:"jsx-3f8337d361d7348f",children:r.comment_count.toLocaleString()})})]},r.recommendationid)},K=a(22435),J=a.n(K),X=function(e){var t,a=e.sortId,r=e.sorting,i=e.callBack;return a===r.id?"ascending"===r.direction?t=(0,n.jsx)(F.h3_,{}):"descending"===r.direction&&(t=(0,n.jsx)(F.sF,{})):t=(0,n.jsx)(F.roE,{}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B(),{id:"b4f622193284766b",children:"span.jsx-b4f622193284766b{opacity:.4;-webkit-transition:opacity.3s;-moz-transition:opacity.3s;-o-transition:opacity.3s;transition:opacity.3s}span.jsx-b4f622193284766b:hover{opacity:1}span.active.jsx-b4f622193284766b{opacity:1}"}),(0,n.jsx)("span",{onClick:function(){return i(a)},className:"jsx-b4f622193284766b "+(a===r.id?"active":""),children:t})]})},$=function(e){(0,U.Z)(a,e);var t=(0,I.Z)(a);function a(e){return(0,O.Z)(this,a),t.call(this,e)}var r=a.prototype;return r.componentDidMount=function(){this.enableResize()},r.componentWillUnmount=function(){this.disableResize()},r.componentDidUpdate=function(){this.enableResize()},r.componentWillUpdate=function(){this.disableResize()},r.enableResize=function(){var e={resizeMode:"overflow",minWidth:50,draggingClass:"customDrag"};this.resizer?this.resizer.reset(e):this.table&&(this.resizer=new(J())(this.table,e))},r.disableResize=function(){this.resizer&&this.resizer.reset({disable:!0})},r.render=function(){var e=this,t=this.props.viewOptions.hiddenColumns.map((function(e){return e.value}));return(0,n.jsxs)(D.Z,{style:{minWidth:"100%",width:"100%"},id:"rtable",bordered:!0,hover:!0,responsive:!0,ref:function(t){e.table=t},children:[(0,n.jsx)(B(),{id:"4ed9470cb5315cdb",children:".customDrag{border-left:1px dotted black;margin-left:-1px!important}"}),(0,n.jsx)("thead",{className:"jsx-4ed9470cb5315cdb",children:(0,n.jsxs)("tr",{className:"jsx-4ed9470cb5315cdb",children:[(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"ID"}),-1===t.indexOf("timeCreated")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Time created ",(0,n.jsx)(X,{sortId:"timestampCreated",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("timeUpdated")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Time updated ",(0,n.jsx)(X,{sortId:"timestampUpdated",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("votedUp")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Voted"}),-1===t.indexOf("language")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Language"}),(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Text ",(0,n.jsx)(X,{sortId:"textLength",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("playtimeAtReview")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Playtime at review time ",(0,n.jsx)(X,{sortId:"playtimeAtReview",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("playtimeForever")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Playtime forever ",(0,n.jsx)(X,{sortId:"playtimeForever",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("playtime2Weeks")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Playtime last two weeks ",(0,n.jsx)(X,{sortId:"playtime2Weeks",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("earlyAccess")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Written during early access"}),-1===t.indexOf("receivedForFree")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Marked as received for free"}),-1===t.indexOf("steamPurchase")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Purchased via Steam"}),-1===t.indexOf("authorNumReviews")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Author total reviews ",(0,n.jsx)(X,{sortId:"authorNumReviews",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("authorNumGames")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Author total games owned ",(0,n.jsx)(X,{sortId:"authorNumGames",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("authorContinuedPlaying")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Author continued playing"}),-1===t.indexOf("authorLastPlayed")&&(0,n.jsx)("th",{className:"jsx-4ed9470cb5315cdb",children:"Author last played"}),-1===t.indexOf("votesUp")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Votes helpful ",(0,n.jsx)(X,{sortId:"votesUp",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("votesFunny")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Votes funny ",(0,n.jsx)(X,{sortId:"votesFunny",sorting:this.props.sorting,callBack:this.props.handleSort})]}),-1===t.indexOf("commentCount")&&(0,n.jsxs)("th",{className:"jsx-4ed9470cb5315cdb",children:["Comment count ",(0,n.jsx)(X,{sortId:"commentCount",sorting:this.props.sorting,callBack:this.props.handleSort})]})]})}),(0,n.jsx)("tbody",{className:"jsx-4ed9470cb5315cdb",children:this.props.reviews.length>0?this.props.reviews.map((function(t){return(0,n.jsx)(z,{filters:e.props.filters,viewOptions:e.props.viewOptions,game:e.props.game,review:t,reviewTextTruncateLength:e.props.reviewTextTruncateLength},t.recommendationid)})):(0,n.jsx)("tr",{className:"jsx-4ed9470cb5315cdb",children:(0,n.jsx)("td",{colSpan:100,className:"jsx-4ed9470cb5315cdb",children:(0,n.jsx)("div",{style:{paddingLeft:"12px",paddingRight:"12px",textAlign:"center"},className:"jsx-4ed9470cb5315cdb",children:"No reviews found"})})})})]})},a}(s.Component),Q=function(e){var t=function(t){t.key===e&&i(!0)},a=(0,s.useState)(!1),r=a[0],i=a[1],n=function(t){t.key===e&&i(!1)};return s.useEffect((function(){return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}})),r},ee=function(e){var t=e.index,a=e.filteredReviewCount,r=e.filters,i=e.viewOptions,l=e.game,o=e.reviews,u=e.sorting,h=e.handleSort,v=e.handleChangeIndex,x=e.exportComponent,g=e.keyNavigationEnabled,p=e.reviewTextTruncateLength,w=e.pageSize,f=e.setPageSize,y=Math.ceil(a/w)-1;y<0&&(y=0);var j=s.createRef(),_=Q("ArrowLeft"),b=Q("ArrowRight");(0,s.useEffect)((function(){g&&(_&&t-1>=0&&N(t-1),b&&t+1<=y&&N(t+1))}),[_,b]);var N=function(e){v(e),j.current&&j.current.scrollIntoView({behavior:"smooth"})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{ref:j}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{md:"auto",children:(0,n.jsx)(R,{pageBuffer:2,currentIndex:t,lastIndex:y,callback:v})}),(0,n.jsx)(d.Z,{md:"auto",children:(0,n.jsxs)(P.Z,{className:"mt-3 mb-3",defaultValue:w,onChange:function(e){f(+e.target.value),v(0)},children:[(0,n.jsx)("option",{children:"10"}),(0,n.jsx)("option",{children:"20"}),(0,n.jsx)("option",{children:"50"}),(0,n.jsx)("option",{children:"100"})]})})]})}),(0,n.jsx)(d.Z,{children:x})]}),(0,n.jsx)($,{filters:r,viewOptions:i,game:l,reviews:o,sorting:u,handleSort:h,reviewTextTruncateLength:p}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{md:"auto",children:(0,n.jsx)(R,{pageBuffer:2,currentIndex:t,lastIndex:y,callback:N})}),(0,n.jsx)(d.Z,{md:"auto",children:(0,n.jsxs)(P.Z,{className:"mt-3 mb-3",defaultValue:w,onChange:function(e){f(+e.target.value),N(0)},children:[(0,n.jsx)("option",{children:"10"}),(0,n.jsx)("option",{children:"20"}),(0,n.jsx)("option",{children:"50"}),(0,n.jsx)("option",{children:"100"})]})}),(0,n.jsx)(d.Z,{md:"auto",children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsxs)(m.Z,{className:"mt-3 mb-3",variant:"light",onClick:function(){return N(t)},children:[(0,n.jsx)(F.ZTc,{})," Scroll up"]})})})]})}),(0,n.jsx)(d.Z,{children:x})]})]})},te=function(e){var t=e.game,a=e.reviewStatistics,r=e.handleFilterPreset,i=e.initialFilterRanges,s="mmm d, yyyy",l=Math.round(a.averageMinutesPlaytimeAtReviewTime/60),o=Math.round(a.averageMinutesPlaytimeAfterReviewTime/60),c=Math.round(a.averageMinutesPlayedAfterReviewTimePositive/60),d=Math.round(a.averageMinutesPlayedAfterReviewTimeNegative/60),u=Math.round(a.medianMinutesContinuedPlayingAfterPositiveReview/60),h=Math.round(a.medianMinutesContinuedPlayingAfterNegativeReview/60),v=Math.round(a.averageMinutesPlaytimeForever/60),x=Math.round(a.averageMinutesPlaytimeLastTwoWeeks/60),g=Math.round(a.medianMinutesPlayedAtReviewTime/60),p=Math.round(a.medianMinutesPlayedForever/60),w=Math.round(a.medianMinutesPlayedLastTwoWeeks/60),f=Math.round(a.totalMinutesPlayedForever/60),y=Math.round(a.totalMinutesPlayedLastTwoWeeks/60);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h5",{children:"Totals & Ranges"}),(0,n.jsx)(D.Z,{className:"mt-3",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{borderTop:"none"},children:(0,n.jsx)("strong",{children:"Total public reviews retrieved"})}),(0,n.jsx)("td",{style:{borderTop:"none"},children:a.totalReviews.toLocaleString()})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"In date range"})}),(0,n.jsxs)("td",{children:[k()(new Date(1e3*a.reviewMinTimestampCreated.timestamp_updated),s)," - ",k()(new Date(1e3*a.reviewMaxTimestampUpdated.timestamp_updated),s)]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total positive"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){r({votedUpPositive:!0,votedUpNegative:!1})},children:[t.total_positive.toLocaleString()," (",Math.round(t.total_positive/a.totalReviews*100),"%)"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total negative"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){r({votedUpPositive:!1,votedUpNegative:!0})},children:[t.total_negative.toLocaleString()," (",Math.round(t.total_negative/a.totalReviews*100),"%)"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average text length"})}),(0,n.jsxs)("td",{children:[a.averageTextLength.toLocaleString()," character",1!==a.averageTextLength?"s":""]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Median text length"})}),(0,n.jsxs)("td",{children:[a.medianTextLength.toLocaleString()," character",1!==a.medianTextLength?"s":""]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Min playtime at review time"})}),(0,n.jsx)("td",{children:a.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review<60?"".concat(a.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review," minute").concat(1!==a.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review?"s":""):"".concat(Math.round(a.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60).toLocaleString()," hour").concat(1!==Math.round(a.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60)?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Max playtime at review time"})}),(0,n.jsx)("td",{children:a.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review<60?"".concat(a.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review," minute").concat(1!==a.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review?"s":""):"".concat(Math.round(a.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60).toLocaleString()," hour").concat(1!==Math.round(a.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60)?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average playtime at review time"})}),(0,n.jsx)("td",{children:a.averageMinutesPlaytimeAtReviewTime<60?"".concat(a.averageMinutesPlaytimeAtReviewTime," minute").concat(1!==a.averageMinutesPlaytimeAtReviewTime?"s":""):"".concat(l.toLocaleString()," hour").concat(1!==l?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Median playtime at review time"})}),(0,n.jsx)("td",{children:a.medianMinutesPlaytimeAtReviewTime<60?"".concat(a.medianMinutesPlaytimeAtReviewTime," minute").concat(1!==a.medianMinutesPlaytimeAtReviewTime?"s":""):"".concat(g.toLocaleString()," hour").concat(1!==g?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Min playtime forever"})}),(0,n.jsx)("td",{children:a.reviewMinTotalMinutesPlayedForever.author_playtime_forever<60?"".concat(a.reviewMinTotalMinutesPlayedForever.author_playtime_forever," minute").concat(1!==a.reviewMinTotalMinutesPlayedForever.author_playtime_forever?"s":""):"".concat(Math.round(a.reviewMinTotalMinutesPlayedForever.author_playtime_forever/60).toLocaleString()," hour").concat(1!==Math.round(a.reviewMinTotalMinutesPlayedForever.author_playtime_forever/60)?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Max playtime forever"})}),(0,n.jsx)("td",{children:a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever<60?"".concat(a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever," minute").concat(1!==a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever?"s":""):"".concat(Math.round(a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever/60).toLocaleString()," hour").concat(1!==Math.round(a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever/60)?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average playtime forever"})}),(0,n.jsx)("td",{children:a.averageMinutesPlaytimeForever<60?"".concat(a.averageMinutesPlaytimeForever," minute").concat(1!==a.averageMinutesPlaytimeForever?"s":""):"".concat(v.toLocaleString()," hour").concat(1!==v?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Median playtime forever"})}),(0,n.jsx)("td",{children:a.medianMinutesPlaytimeForever<60?"".concat(a.medianMinutesPlaytimeForever," minute").concat(1!==a.medianMinutesPlaytimeForever?"s":""):"".concat(p.toLocaleString()," hour").concat(1!==p?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total playtime forever"})}),(0,n.jsx)("td",{children:a.totalMinutesPlayedForever<60?"".concat(a.totalMinutesPlayedForever," minute").concat(1!==a.totalMinutesPlayedForever?"s":""):"".concat(f.toLocaleString()," hour").concat(1!==f?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average playtime last two weeks"})}),(0,n.jsx)("td",{children:a.averageMinutesPlaytimeLastTwoWeeks<60?"".concat(a.averageMinutesPlaytimeLastTwoWeeks," minute").concat(1!==a.averageMinutesPlaytimeLastTwoWeeks?"s":""):"".concat(x.toLocaleString()," hour").concat(1!==x?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Median playtime last two weeks"})}),(0,n.jsx)("td",{children:a.medianMinutesPlaytimeLastTwoWeeks<60?"".concat(a.medianMinutesPlaytimeLastTwoWeeks," minute").concat(1!==a.medianMinutesPlaytimeLastTwoWeeks?"s":""):"".concat(w.toLocaleString()," hour").concat(1!==w?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total playtime last two weeks"})}),(0,n.jsx)("td",{children:a.totalMinutesPlayedLastTwoWeeks<60?"".concat(a.totalMinutesPlayedLastTwoWeeks," minute").concat(1!==a.totalMinutesPlayedLastTwoWeeks?"s":""):"".concat(y.toLocaleString()," hour").concat(1!==y?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total continued playing after review"})}),(0,n.jsxs)("td",{children:[a.totalContinuedPlayingAfterReviewTime.toLocaleString()," (",Math.round(a.totalContinuedPlayingAfterReviewTime/a.totalReviews*100),"%)"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total continued playing after positive review"})}),(0,n.jsxs)("td",{children:[a.totalContinuedPlayingAfterReviewTimePositive.toLocaleString()," (",Math.round(a.totalContinuedPlayingAfterReviewTimePositive/a.totalReviews*100),"%)"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total continued playing after negative review"})}),(0,n.jsxs)("td",{children:[a.totalContinuedPlayingAfterReviewTimeNegative.toLocaleString()," (",Math.round(a.totalContinuedPlayingAfterReviewTimeNegative/a.totalReviews*100),"%)"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average playtime after review time"})}),(0,n.jsx)("td",{children:a.averageMinutesPlaytimeAfterReviewTime<60?"".concat(a.averageMinutesPlaytimeAfterReviewTime," minute").concat(1!==a.averageMinutesPlaytimeAfterReviewTime?"s":""):"".concat(o.toLocaleString()," hour").concat(1!==o?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average playtime after positive review time"})}),(0,n.jsx)("td",{children:a.averageMinutesPlaytimeAfterReviewTimePositive<60?"".concat(a.averageMinutesPlaytimeAfterReviewTimePositive," minute").concat(1!==a.averageMinutesPlaytimeAfterReviewTimePositive?"s":""):"".concat(c.toLocaleString()," hour").concat(1!==c?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Median playtime after positive review time"})}),(0,n.jsx)("td",{children:a.medianMinutesContinuedPlayingAfterPositiveReview<60?"".concat(a.medianMinutesContinuedPlayingAfterPositiveReview," minute").concat(1!==a.medianMinutesContinuedPlayingAfterPositiveReview?"s":""):"".concat(u.toLocaleString()," hour").concat(1!==u?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Average playtime after negative review time"})}),(0,n.jsx)("td",{children:a.averageMinutesPlaytimeAfterReviewTimeNegative<60?"".concat(a.averageMinutesPlaytimeAfterReviewTimeNegative," minute").concat(1!==a.averageMinutesPlaytimeAfterReviewTimeNegative?"s":""):"".concat(d.toLocaleString()," hour").concat(1!==d?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Median playtime after negative review time"})}),(0,n.jsx)("td",{children:a.medianMinutesContinuedPlayingAfterNegativeReview<60?"".concat(a.medianMinutesContinuedPlayingAfterNegativeReview," minute").concat(1!==a.medianMinutesContinuedPlayingAfterNegativeReview?"s":""):"".concat(h.toLocaleString()," hour").concat(1!==h?"s":"")})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total updated"})}),(0,n.jsxs)("td",{children:[a.totalReviewsUpdated.toLocaleString()," (",Math.round(a.totalReviewsUpdated/a.totalReviews*100),"%)"]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total with comments"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){r({commentCount:[1,i.commentCount[1]]})},children:[a.totalWithComments.toLocaleString()," (",Math.round(a.totalWithComments/a.totalReviews*100),"%)"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total purchased via Steam"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){r({steamPurchaseYes:!0,steamPurchaseNo:!1})},children:[a.totalPurchasedViaSteam.toLocaleString()," (",Math.round(a.totalPurchasedViaSteam/a.totalReviews*100),"%)"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total marked as received for Free"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){r({receivedForFreeYes:!0,receivedForFreeNo:!1})},children:[a.totalMarkedAsReceivedForFree.toLocaleString()," (",Math.round(a.totalMarkedAsReceivedForFree/a.totalReviews*100),"%)"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total written during early access"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(m.Z,{className:"p-0",variant:"link",onClick:function(){r({earlyAccessYes:!0,earlyAccessNo:!1})},children:[a.totalWrittenDuringEarlyAccess.toLocaleString()," (",Math.round(a.totalWrittenDuringEarlyAccess/a.totalReviews*100),"%)"]})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Total languages"})}),(0,n.jsx)("td",{children:(0,n.jsxs)("a",{target:"_blank",href:"https://partner.steamgames.com/doc/store/localization/languages",children:[Object.keys(a.totalLanguages).length.toLocaleString()," / ",Object.keys(M.Z).length.toLocaleString()]})})]})]})})]})},ae=a(99534),re=a(5607),ie=a(25432),ne=a(79260),se=(a(87042),a(56448)),le=(a(23273),a(11177)),oe=ne.ZP.Range,ce=function(e){var t=e.value,a=e.dragging,i=e.index,s=(0,ae.Z)(e,["value","dragging","index"]);return(0,n.jsx)(ne.Rl,{prefixCls:"rc-slider-tooltip",overlay:t,visible:a,placement:"top",children:(0,n.jsx)(ne.HH,(0,r.Z)({value:t},s))},i)},de=function(e){var t=e.filteredReviewCount,a=e.filters,l=e.viewOptions,o=e.viewOptionsCallback,u=e.updateFiltersCallback,h=e.applyFiltersCallback,v=e.cancelStagedFilterChangesCallback,x=e.reviewStatistics,p=e.cachedFilters,w=e.dirty,f=e.zeroed,y=e.resetFiltersCallback,j=(0,s.useState)(a.searchTerm),_=j[0],N=j[1],k=(0,s.useState)(a.timePlayedAtReviewTime),C=k[0],T=k[1],Z=(0,s.useState)(a.timePlayedForever),S=Z[0],L=Z[1],P=(0,s.useState)(a.timePlayedLastTwoWeeks),F=P[0],A=P[1],R=(0,s.useState)(a.textLength),O=R[0],U=R[1],I=(0,s.useState)(a.votesHelpful),W=I[0],B=I[1],D=(0,s.useState)(a.votesFunny),G=D[0],V=D[1],E=(0,s.useState)(a.authorNumReviews),Y=E[0],q=E[1],H=(0,s.useState)(a.authorNumGames),z=H[0],K=H[1],J=(0,s.useState)(a.commentCount),X=J[0],$=J[1],Q=Object.keys(x.totalLanguages).sort((function(e,t){return M.Z[e].englishName<M.Z[t].englishName?-1:1})),ee=x.reviewMinTextLength.review.length,te=x.reviewMaxTextLength.review.length,ae=x.reviewMinAuthorNumReviews.author_num_reviews,ne=x.reviewMaxAuthorNumReviews.author_num_reviews,de=x.reviewMinAuthorNumGames.author_num_games_owned,ue=x.reviewMaxAuthorNumGames.author_num_games_owned,he=x.reviewMinCommentCount.comment_count,me=x.reviewMaxCommentCount.comment_count,ve=x.reviewMinVotesUp.votes_up,xe=x.reviewMaxVotesUp.votes_up,ge=x.reviewMinVotesFunny.votes_funny,pe=x.reviewMaxVotesFunny.votes_funny,we=new Date(1e3*x.reviewMinTimestampCreated.timestamp_created),fe=new Date(1e3*x.reviewMaxTimestampCreated.timestamp_created),ye=Math.floor(x.reviewMinTotalMinutesPlayedForever.author_playtime_forever/60),je=Math.ceil(x.reviewMaxTotalMinutesPlayedForever.author_playtime_forever/60),_e=Math.floor(x.reviewMinTotalMinutesPlayedLastTwoWeeks.author_playtime_last_two_weeks/60),be=Math.ceil(x.reviewMaxTotalMinutesPlayedLastTwoWeeks.author_playtime_last_two_weeks/60),Ne=Math.floor(x.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60),ke=Math.ceil(x.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60),Me=function(e){var t=e.label,n=e.value,s=(0,i.Z)((0,r.Z)({},a),(0,g.Z)({},t,n));u(s,[t])},Ce=function(e){var t=e.label,a=e.value,n=(0,i.Z)((0,r.Z)({},l),(0,g.Z)({},t,a));o(n)};(0,s.useEffect)((function(){w||N(a.searchTerm)}),[a.searchTerm]);var Te=s.createRef();return(0,s.useEffect)((function(){!w&&Te.current&&(Te.current.setStartDate(a.timeCreated[0]),Te.current.setEndDate(a.timeCreated[1]))}),[a.timeCreated]),(0,n.jsxs)(re.Z,{className:"mt-4",alwaysOpen:!0,children:[(0,n.jsxs)(re.Z.Item,{eventKey:"0",children:[(0,n.jsxs)(re.Z.Header,{children:["Search Filters (",t.toLocaleString()," review",1!==t&&"s"," matching) ",w?"*":""]}),(0,n.jsxs)(re.Z.Body,{children:[(0,n.jsx)(ie.Z.Label,{children:"Text Search"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Control,{className:"mt-1",type:"text",placeholder:"Use words or a single review ID",value:_,onChange:function(e){N(e.target.value),Me({label:"searchTerm",value:e.target.value.trim()})}}),(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Exact",type:"radio",id:"exactSearchTermExact",name:"exactSearchTerm",checked:"exact"===a.exactSearchTerm,onChange:function(e){return Me({label:"exactSearchTerm",value:"exact"})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Exact (Ignore Case)",type:"radio",id:"exactSearchTermIgnoreCase",name:"exactSearchTerm",checked:"exactIgnoreCase"===a.exactSearchTerm,onChange:function(e){return Me({label:"exactSearchTerm",value:"exactIgnoreCase"})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Partial (Ignore Case)",type:"radio",id:"exactSearchTermPartialIgnoreCase",name:"exactSearchTerm",checked:"partialIgnoreCase"===a.exactSearchTerm,onChange:function(e){return Me({label:"exactSearchTerm",value:"partialIgnoreCase"})}})]}),(0,n.jsxs)(ie.Z.Group,{className:"mt-3",children:[(0,n.jsx)(ie.Z.Label,{children:"Time created"}),(0,n.jsx)("br",{}),(0,n.jsx)(se.Z,{ref:Te,onCancel:function(){Me({label:"timeCreated",value:[we,fe]})},onCallback:function(e,t){Me({label:"timeCreated",value:[e.toDate(),t.toDate()]})},initialSettings:{minDate:we,maxDate:fe,startDate:a.timeCreated?a.timeCreated[0]:we,endDate:a.timeCreated?a.timeCreated[1]:fe,timePicker:!0,locale:{cancelLabel:"Clear",applyLabel:"Save"}},children:(0,n.jsx)(ie.Z.Control,{type:"text"})})]}),(0,n.jsxs)(ie.Z.Label,{className:"mt-3",children:["Languages (",a.languages.length," selected)"]}),(0,n.jsx)(le.NU,{options:Q.map((function(e){return{label:M.Z[e].englishName,value:e}})),labelledBy:"Select",value:a.languages,onChange:function(e){Me({label:"languages",value:e})}}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsx)(ie.Z.Label,{children:"Voted"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Positive",type:"checkbox",checked:a.votedUpPositive,onChange:function(e){return Me({label:"votedUpPositive",value:e.target.checked})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Negative",type:"checkbox",checked:a.votedUpNegative,onChange:function(e){return Me({label:"votedUpNegative",value:e.target.checked})}})]})}),(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsx)(ie.Z.Label,{children:"Written during early access"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:a.earlyAccessYes,onChange:function(e){return Me({label:"earlyAccessYes",value:e.target.checked})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:a.earlyAccessNo,onChange:function(e){return Me({label:"earlyAccessNo",value:e.target.checked})}})]})}),(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsx)(ie.Z.Label,{children:"Marked as received for free"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:a.receivedForFreeYes,onChange:function(e){return Me({label:"receivedForFreeYes",value:e.target.checked})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:a.receivedForFreeNo,onChange:function(e){return Me({label:"receivedForFreeNo",value:e.target.checked})}})]})}),(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsx)(ie.Z.Label,{children:"Purchased via Steam"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:a.steamPurchaseYes,onChange:function(e){return Me({label:"steamPurchaseYes",value:e.target.checked})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:a.steamPurchaseNo,onChange:function(e){return Me({label:"steamPurchaseNo",value:e.target.checked})}})]})}),(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsxs)(ie.Z.Label,{children:["Likely ASCII art ",(0,n.jsx)(b.Z,{bg:"info",children:"Experimental"})]}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:a.containsASCIIArtYes,onChange:function(e){return Me({label:"containsASCIIArtYes",value:e.target.checked})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:a.containsASCIIArtNo,onChange:function(e){return Me({label:"containsASCIIArtNo",value:e.target.checked})}})]})}),(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsxs)("div",{className:"mt-3 binary",children:[(0,n.jsx)(ie.Z.Label,{children:"Contains URL"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Yes",type:"checkbox",checked:a.containsUrlYes,onChange:function(e){return Me({label:"containsUrlYes",value:e.target.checked})}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"No",type:"checkbox",checked:a.containsUrlNo,onChange:function(e){return Me({label:"containsUrlNo",value:e.target.checked})}})]})})]}),(0,n.jsxs)(ie.Z.Label,{className:"mt-3",children:["Time played at review time (",a.timePlayedAtReviewTime?a.timePlayedAtReviewTime[0].toLocaleString():Ne.toLocaleString()," - ",a.timePlayedAtReviewTime?a.timePlayedAtReviewTime[1].toLocaleString():ke.toLocaleString()," hrs)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,value:C||[Ne,ke],min:Ne,max:ke,defaultValue:[Ne,ke],onChange:function(e){return T(e)},onAfterChange:function(e){return Me({label:"timePlayedAtReviewTime",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Time played forever (",a.timePlayedForever?a.timePlayedForever[0].toLocaleString():ye.toLocaleString()," - ",a.timePlayedForever?a.timePlayedForever[1].toLocaleString():je.toLocaleString()," hrs)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:S||[ye,je],min:ye,max:je,defaultValue:[ye,je],onChange:function(e){return L(e)},onAfterChange:function(e){return Me({label:"timePlayedForever",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Time played last two weeks (",a.timePlayedLastTwoWeeks?a.timePlayedLastTwoWeeks[0].toLocaleString():_e.toLocaleString()," - ",a.timePlayedLastTwoWeeks?a.timePlayedLastTwoWeeks[1].toLocaleString():be.toLocaleString()," hrs)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:F||[_e,be],min:_e,max:be,defaultValue:[_e,be],onChange:function(e){return A(e)},onAfterChange:function(e){return Me({label:"timePlayedLastTwoWeeks",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Text length (",a.textLength?a.textLength[0].toLocaleString():ee.toLocaleString()," - ",a.textLength?a.textLength[1].toLocaleString():te.toLocaleString()," characters)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:O||[ee,te],min:ee,max:te,defaultValue:[ee,te],onChange:function(e){return U(e)},onAfterChange:function(e){return Me({label:"textLength",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Author total reviews (",a.authorNumReviews?a.authorNumReviews[0].toLocaleString():ae.toLocaleString()," - ",a.authorNumReviews?a.authorNumReviews[1].toLocaleString():ne.toLocaleString()," reviews)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:Y||[ae,ne],min:ae,max:ne,defaultValue:[ae,ne],onChange:function(e){return q(e)},onAfterChange:function(e){return Me({label:"authorNumReviews",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Author total games owned (",a.authorNumGames?a.authorNumGames[0].toLocaleString():de.toLocaleString()," - ",a.authorNumGames?a.authorNumGames[1].toLocaleString():ue.toLocaleString()," games)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:z||[de,ue],min:de,max:ue,defaultValue:[de,ue],onChange:function(e){return K(e)},onAfterChange:function(e){return Me({label:"authorNumGames",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Votes helpful (",a.votesHelpful?a.votesHelpful[0].toLocaleString():ve.toLocaleString()," - ",a.votesHelpful?a.votesHelpful[1].toLocaleString():xe.toLocaleString()," votes)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:W||[ve,xe],min:ve,max:xe,defaultValue:[ve,xe],onChange:function(e){return B(e)},onAfterChange:function(e){return Me({label:"votesHelpful",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Votes funny (",a.votesFunny?a.votesFunny[0].toLocaleString():ge.toLocaleString()," - ",a.votesFunny?a.votesFunny[1].toLocaleString():pe.toLocaleString()," votes)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:G||[ge,pe],min:ge,max:pe,defaultValue:[ge,pe],onChange:function(e){return V(e)},onAfterChange:function(e){return Me({label:"votesFunny",value:e})}})}),(0,n.jsxs)(ie.Z.Label,{children:["Comment count (",a.commentCount?a.commentCount[0].toLocaleString():he.toLocaleString()," - ",a.commentCount?a.commentCount[1].toLocaleString():me.toLocaleString()," comments)"]}),(0,n.jsx)(ie.Z.Group,{className:"ms-2 me-2",children:(0,n.jsx)(oe,{allowCross:!1,handle:ce,value:X||[he,me],min:he,max:me,defaultValue:[he,me],onChange:function(e){return $(e)},onAfterChange:function(e){return Me({label:"commentCount",value:e})}})}),(0,n.jsx)(ie.Z.Group,{className:"mt-4 mb-2",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(m.Z,{variant:"light",onClick:function(){y(),T([Ne,ke]),L([ye,je]),A([_e,be]),U([ee,te]),B([ve,xe]),V([ge,pe]),q([ae,ne]),K([de,ue]),$([he,me])},disabled:f,children:"Reset"})})}),(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(m.Z,{variant:"light",onClick:function(){v(),T(p.timePlayedAtReviewTime),L(p.timePlayedForever),A(p.timePlayedLastTwoWeeks),U(p.textLength),B(p.votesHelpful),V(p.votesFunny),q(p.authorNumReviews),K(p.authorNumGames),$(p.commentCount)},disabled:!w,children:"Cancel"})})}),(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(m.Z,{onClick:function(){h()},disabled:!w,children:"Apply"})})})]})})]})]}),(0,n.jsxs)(re.Z.Item,{eventKey:"2",children:[(0,n.jsx)(re.Z.Header,{children:"Adjust View"}),(0,n.jsxs)(re.Z.Body,{children:[(0,n.jsxs)(ie.Z.Label,{children:["Hidden Columns (",l.hiddenColumns.length," hidden)"]}),(0,n.jsx)(le.NU,{options:[{label:"Time created",value:"timeCreated"},{label:"Time updated",value:"timeUpdated"},{label:"Voted",value:"votedUp"},{label:"Language",value:"language"},{label:"Playtime at review time",value:"playtimeAtReview"},{label:"Playtime forever",value:"playtimeForever"},{label:"Playtime last two weeks",value:"playtime2Weeks"},{label:"Written during early access",value:"earlyAccess"},{label:"Marked as received for free",value:"receivedForFree"},{label:"Author total reviews",value:"authorNumReviews"},{label:"Author total games owned",value:"authorNumGames"},{label:"Author continued playing",value:"authorContinuedPlaying"},{label:"Author last played",value:"authorLastPlayed"},{label:"Purchased via Steam",value:"steamPurchase"},{label:"Votes Helpful",value:"votesUp"},{label:"Votes funny",value:"votesFunny"},{label:"Comment count",value:"commentCount"}],labelledBy:"Select",value:l.hiddenColumns,onChange:function(e){Ce({label:"hiddenColumns",value:e})}}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Truncate long reviews",type:"checkbox",checked:l.truncateLongReviews,onChange:function(e){return Ce({label:"truncateLongReviews",value:e.target.checked})}})})}),(0,n.jsx)(ie.Z.Group,{as:d.Z,children:(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)(ie.Z.Check,{inline:!0,label:(0,n.jsxs)(n.Fragment,{children:["Censor bad words ",(0,n.jsx)(b.Z,{bg:"info",children:"Experimental"})]}),type:"checkbox",checked:l.censorBadWords,onChange:function(e){return Ce({label:"censorBadWords",value:e.target.checked})}})})})]})]})]})]})},ue=a(29009),he=a(94831),me=a(4545),ve=a(3023),xe=a(25048),ge=a(14888),pe=a(87226),we=a(47963),fe=function(e){var t=e.reviewStatistics;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h5",{className:"mt-3",children:"Total Reviews Over Time"}),(0,n.jsx)(ue.h,{width:"100%",height:400,children:(0,n.jsxs)(he.v,{width:730,height:250,data:t.reviewVolumeOverTime,stackOffset:"sign",margin:{top:15,bottom:25},children:[(0,n.jsx)(me.d,{y:0,stroke:"#000"}),(0,n.jsx)(ve.K,{dataKey:"name",children:(0,n.jsx)(xe._,{value:"Date",offset:-15,position:"insideBottom"})}),(0,n.jsx)(ge.u,{}),(0,n.jsx)(pe.$,{dataKey:"Total Positive",stackId:"a",fill:"#c3e6cb"}),(0,n.jsx)(pe.$,{dataKey:"Total Negative",stackId:"a",fill:"#f5c6cb"}),(0,n.jsx)(we.B,{dataKey:"name",height:30,stroke:"#dee2e6"})]})})]})},ye=a(6212),je=a(50202),_e=a.n(je),be=a(55261),Ne=function(e){var t=e.game,a=e.reviewCount,l=e.filteredReviewCount,o=e.viewOptions,c=e.viewOptionsCallback,u=e.handleGetData,h=o.hiddenColumns.map((function(e){return e.value})),v=_e()("".concat(t.steam_appid," ").concat(t.name," Reviews")).replace(/[^a-z0-9]/gi,"_"),x=(0,s.useState)(!1),p=x[0],w=x[1],f=(0,s.useState)(v),y=f[0],j=f[1],_=(0,s.useState)(!0),b=_[0],N=_[1],k=(0,s.useState)(!1),M=k[0],C=k[1],T=(0,s.useState)("reviews"),Z=T[0],S=T[1],L=(0,s.useState)(!1),P=L[0],A=L[1],R=function(){var e=[{displayName:"recommendation_id",id:"recommendationid"},{displayName:"recommendation_url",id:"recommendationurl"},{displayName:"author_steam_id",id:"author_steamid"},{displayName:"author_number_games_owned",id:"author_num_games_owned"},{displayName:"author_number_reviews",id:"author_num_reviews"},{displayName:"author_minutes_playtime_last_two_weeks",id:"author_playtime_last_two_weeks"},{displayName:"author_last_played_timestamp",id:"author_last_played"},{displayName:"review",id:"review"},{displayName:"weighted_review_score",id:"weighted_vote_score"}];return-1===h.indexOf("timeCreated")&&e.push({displayName:"created_timestamp",id:"timestamp_created"}),-1===h.indexOf("timeUpdated")&&e.push({displayName:"updated_timestamp",id:"timestamp_updated"}),-1===h.indexOf("votedUp")&&e.push({displayName:"voted_up",id:"voted_up"}),-1===h.indexOf("language")&&e.push({displayName:"language",id:"language"}),-1===h.indexOf("playtimeAtReview")&&e.push({displayName:"author_minutes_playtime_at_review_time",id:"author_playtime_at_review"}),-1===h.indexOf("playtimeForever")&&e.push({displayName:"author_minutes_playtime_forever",id:"author_playtime_forever"}),-1===h.indexOf("playtime2Weeks")&&e.push({displayName:"author_minutes_playtime_last_two_weeks",id:"author_playtime_last_two_weeks"}),-1===h.indexOf("earlyAccess")&&e.push({displayName:"written_during_early_access",id:"written_during_early_access"}),-1===h.indexOf("receivedForFree")&&e.push({displayName:"marked_as_received_for_free",id:"received_for_free"}),-1===h.indexOf("authorNumReviews")&&e.push({displayName:"author_num_reviews",id:"author_num_reviews"}),-1===h.indexOf("authorNumGames")&&e.push({displayName:"author_num_games",id:"author_num_games_owned"}),-1===h.indexOf("steamPurchase")&&e.push({displayName:"steam_purchase",id:"steam_purchase"}),-1===h.indexOf("votesUp")&&e.push({displayName:"votes_up",id:"votes_up"}),-1===h.indexOf("votesFunny")&&e.push({displayName:"votes_funny",id:"votes_funny"}),-1===h.indexOf("commentCount")&&e.push({displayName:"comment_count",id:"comment_count"}),e}(),O="reviews"===Z?a:l;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsxs)(m.Z,{className:"mt-3 mb-3",disabled:0===a,onClick:function(){return w(!0)},children:[(0,n.jsx)(F.aBF,{})," Export"]})}),(0,n.jsxs)(ye.Z,{show:p,onHide:function(){return w(!1)},children:[(0,n.jsx)(ye.Z.Header,{closeButton:!0,children:(0,n.jsx)(ye.Z.Title,{children:"Export Reviews"})}),(0,n.jsxs)(ye.Z.Body,{children:[(0,n.jsx)(ie.Z.Label,{children:"Filename"}),(0,n.jsx)(ie.Z.Control,{type:"text",placeholder:v,value:y,onChange:function(e){j(e.target.value)}}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Label,{children:"Selection"}),(0,n.jsx)("br",{}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"All",type:"radio",checked:b,onChange:function(e){N(e.target.checked),C(!e.target.checked),S("reviews")}}),(0,n.jsx)(ie.Z.Check,{inline:!0,label:"Filtered",type:"radio",checked:M,onChange:function(e){C(e.target.checked),N(!e.target.checked),S("filteredReviews")}}),(0,n.jsxs)("p",{children:[O.toLocaleString()," review",1!==O?"s":""," will be exported"]}),(0,n.jsxs)(ie.Z.Label,{children:["Exclude Columns (",h.length.toLocaleString()," excluded)"]}),(0,n.jsx)(le.NU,{options:[{label:"Time created",value:"timeCreated"},{label:"Time updated",value:"timeUpdated"},{label:"Voted",value:"votedUp"},{label:"Language",value:"language"},{label:"Playtime at review time",value:"playtimeAtReview"},{label:"Playtime forever",value:"playtimeForever"},{label:"Playtime last two weeks",value:"playtime2Weeks"},{label:"Written during early access",value:"earlyAccess"},{label:"Marked as received for free",value:"receivedForFree"},{label:"Author total reviews",value:"authorNumReviews"},{label:"Author total games owned",value:"authorNumGames"},{label:"Author continued playing",value:"authorContinuedPlaying"},{label:"Author last played",value:"authorLastPlayed"},{label:"Purchased via Steam",value:"steamPurchase"},{label:"Votes Helpful",value:"votesUp"},{label:"Votes funny",value:"votesFunny"},{label:"Comment count",value:"commentCount"}],labelledBy:"Select",value:o.hiddenColumns,onChange:function(e){!function(e){var t=e.label,a=e.value,n=(0,i.Z)((0,r.Z)({},o),(0,g.Z)({},t,a));c(n)}({label:"hiddenColumns",value:e})}})]}),(0,n.jsxs)(ye.Z.Footer,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(m.Z,{variant:"secondary",onClick:function(){return w(!1)},children:"Cancel"})})}),(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(be.Z,{className:"d-grid",columns:R,datas:function(){if(!P)return A(!0),u(Z).then((function(e){return A(!1),e}))},filename:y,wrapColumnChar:'"',children:(0,n.jsx)(m.Z,{variant:"primary",children:P?"Loading...":"Save"})})})})]})]})]})},ke=function(e){e.game;var t=e.reviewStatistics,a=e.handleFilterPreset;return 0===t.positiveWordFrequencyList.length||0===t.negativeWordFrequencyList.length||t.positiveWordFrequencyList.length!==t.negativeWordFrequencyList.length?(0,n.jsx)("p",{className:"text-muted",children:"Insufficient number of reviews for this visualisation"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h5",{children:"Top 20 Frequently Occuring Words*"}),(0,n.jsxs)(D.Z,{responsive:!0,className:"mt-3",children:[(0,n.jsxs)("thead",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{colSpan:2,className:"table-success",children:"Positive reviews"}),(0,n.jsx)("th",{colSpan:2,className:"table-danger",children:"Negative reviews"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{}),(0,n.jsx)("th",{className:"table-success",children:"Word"}),(0,n.jsx)("th",{className:"table-success",children:"Total occurences"}),(0,n.jsx)("th",{className:"table-danger",children:"Word"}),(0,n.jsx)("th",{className:"table-danger",children:"Total occurences"})]})]}),(0,n.jsx)("tbody",{children:t.positiveWordFrequencyList.map((function(e,r){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:r+1}),(0,n.jsx)("td",{className:"table-success",children:e[0]}),(0,n.jsx)("td",{className:"table-success",children:(0,n.jsx)(m.Z,{className:"p-0",variant:"link",onClick:function(){return t=e[0],void a({searchTerm:t,languages:[{label:"English",value:"english"}],votedUpPositive:!0,votedUpNegative:!1});var t},children:e[1].toLocaleString()})}),(0,n.jsx)("td",{className:"table-danger",children:t.negativeWordFrequencyList[r][0]}),(0,n.jsx)("td",{className:"table-danger",children:(0,n.jsx)(m.Z,{className:"p-0",variant:"link",onClick:function(){return e=t.negativeWordFrequencyList[r][0],void a({searchTerm:e,languages:[{label:"English",value:"english"}],votedUpPositive:!1,votedUpNegative:!0});var e},children:t.negativeWordFrequencyList[r][1].toLocaleString()})})]},r)}))})]}),(0,n.jsx)("p",{children:(0,n.jsxs)("small",{children:["*Excluding a ",(0,n.jsx)("a",{href:"https://github.com/joshhills/steam-review-explorer/blob/main/lib/utils/CommonWords.ts",children:"list of commonly occuring words"}),", and only counting each word once per review. Word clouds ",(0,n.jsx)("a",{href:"https://getthematic.com/insights/word-clouds-harm-insights/",children:"may provide misleading insights"}),"!"]})})]})},Me=a(73604),Ce=a(46208),Te=a(43815),Ze=function(e){var t=e.game,a=e.reviewStatistics,r=e.handleFilterPreset,i=Object.keys(t.parsed_supported_languages).length,s=i.toLocaleString(),l=Object.keys(M.Z).length.toLocaleString(),o=Object.keys(a.totalLanguages).length,c=o.toLocaleString(),d=[],u=0,h=!0,v=!1,x=void 0;try{for(var g,p=Object.keys(a.totalLanguages)[Symbol.iterator]();!(h=(g=p.next()).done);h=!0){var w=g.value;-1!==Object.keys(t.unsupported_languages).indexOf(w)&&(d.push(w),u+=a.totalLanguages[w].total)}}catch(_){v=!0,x=_}finally{try{h||null==p.return||p.return()}finally{if(v)throw x}}var f,y=(f=a.totalLanguages,Object.entries(f).sort((function(e,t){return t[1].total-e[1].total})).map((function(e){return{name:M.Z[e[0]].englishName,langCode:e[0],numReviews:e[1].total}}))),j=["#024b7a","#03578f","#056aad","#0b76bd","#1586d1","#2c8bc9","#4093c9","#57a5d9","#5998c2","#75a8c9","#7ba9c7","#85b0cc","#94bad4","#9ec1d9","#a5c3d6","#bad6e8","#c5dded","#cadce8","#e4eff7"];return(0,n.jsxs)(n.Fragment,{children:[i>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:["This product supports ",s," of the ",l," available Steam languages"]}),(0,n.jsxs)("p",{children:["Reviews have been retrieved in ",c," language",1===o?"":"s",", ",d.length," of which ",1===d.length?"is":"are"," unsupported"]}),(0,n.jsxs)("p",{children:[u," review",1===u?"":"s"," (",Math.round(u/a.totalReviews*100),"%) ",1===u?"has":"have"," been made in ",1===u?"an ":"","unsupported language",1===u?"":"s"]}),(0,n.jsx)("h6",{children:"Unsupported product languages"}),(0,n.jsx)("p",{children:Object.keys(t.unsupported_languages).map((function(e){return M.Z[e].englishName})).sort().join(", ")}),(0,n.jsx)("h6",{children:"Unsupported review languages"}),(0,n.jsx)("p",{children:d.map((function(e){return M.Z[e].englishName})).sort().join(", ")})]}),(0,n.jsx)("small",{children:"Note that Steam allows users to tag their review's language, defaulting to their account's primary language; therefore, the actual content of a review may be in a different language mix to that stated"}),(0,n.jsx)("h5",{className:"mt-3",children:"Language Distribution"}),(0,n.jsxs)(D.Z,{responsive:!0,className:"mt-3",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Total"}),(0,n.jsx)("td",{children:"Proportion"}),(0,n.jsx)("td",{children:"Language"}),(0,n.jsx)("td",{children:"Supported"}),(0,n.jsx)("td",{children:"Total Positive"}),(0,n.jsx)("td",{children:"% Positive"}),(0,n.jsx)("td",{children:"Total Negative"}),(0,n.jsx)("td",{children:"% Negative"})]})}),(0,n.jsx)("tbody",{children:y.map((function(e,i){var s=a.totalLanguages[e.langCode],l=-1!==Object.keys(t.parsed_supported_languages).indexOf(e.langCode);return(0,n.jsxs)("tr",{className:l?"":"table-warning",children:[(0,n.jsx)("td",{children:s.total.toLocaleString()}),(0,n.jsxs)("td",{children:[Math.round(s.total/a.totalReviews*100),"%"]}),(0,n.jsx)("td",{children:(0,n.jsx)(m.Z,{className:"p-0",variant:"link",onClick:function(){return t=e.name,a=e.langCode,void r({languages:[{label:t,value:a}]});var t,a},children:e.name})}),(0,n.jsx)("td",{children:l&&(0,n.jsx)(F.l_A,{})}),(0,n.jsx)("td",{children:s.positive.toLocaleString()}),(0,n.jsxs)("td",{children:[Math.round(s.positive/s.total*100),"%"]}),(0,n.jsx)("td",{children:s.negative.toLocaleString()}),(0,n.jsxs)("td",{children:[Math.round(s.negative/s.total*100),"%"]})]},i)}))})]}),(0,n.jsx)(ue.h,{height:400,width:"100%",children:(0,n.jsxs)(Me.u,{children:[(0,n.jsx)(ge.u,{}),(0,n.jsx)(Ce.b,{data:y,dataKey:"numReviews",children:y.map((function(e,t){return(0,n.jsx)(Te.b,{fill:j[t%j.length]},"cell-".concat(t))}))})]})})]})},Se=a(98687),Le=a(56880),Pe=function(e){var t=e.reviewStatistics;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h5",{className:"mt-3",children:"Review Score Over Time"}),(0,n.jsx)(ue.h,{width:"100%",height:400,children:(0,n.jsxs)(Se.w,{width:500,height:300,data:t.reviewVolumeOverTime,margin:{top:15,bottom:25},children:[(0,n.jsx)(ve.K,{dataKey:"name",children:(0,n.jsx)(xe._,{value:"Date",offset:-15,position:"insideBottom"})}),(0,n.jsx)(ge.u,{}),(0,n.jsx)(Le.x,{type:"monotone",dataKey:"Review Score",stroke:"#82ca9d",dot:!1}),(0,n.jsx)(we.B,{dataKey:"name",height:30,stroke:"#dee2e6"})]})})]})},Fe=a(70461),Ae=a(84427),Re=new RegExp("[\\p{L}0-9\\s]*","gmu"),Oe=function(e){var t=e.game,a=e.reviewStatistics,i=e.selectedLanguages,o=(0,l.useRouter)(),c=Ae.Z.getReviewStoreForGame(t.steam_appid),d=function(){var e=a.reviewMinTextLength.review.length,t=a.reviewMaxTextLength.review.length,r=a.reviewMinAuthorNumReviews.author_num_reviews,n=a.reviewMaxAuthorNumReviews.author_num_reviews,s=a.reviewMinAuthorNumGames.author_num_games_owned,l=a.reviewMaxAuthorNumGames.author_num_games_owned,o=a.reviewMinCommentCount.comment_count,c=a.reviewMaxCommentCount.comment_count,d=a.reviewMinVotesUp.votes_up,u=a.reviewMaxVotesUp.votes_up,h=a.reviewMinVotesFunny.votes_funny,m=a.reviewMaxVotesFunny.votes_funny,v=new Date(1e3*a.reviewMinTimestampCreated.timestamp_created),x=new Date(1e3*a.reviewMaxTimestampCreated.timestamp_created),g=Math.floor(a.reviewMinTotalMinutesPlayedForever.author_playtime_forever/60),p=Math.ceil(a.reviewMaxTotalMinutesPlayedForever.author_playtime_forever/60),w=Math.floor(a.reviewMinTotalMinutesPlayedLastTwoWeeks.author_playtime_last_two_weeks/60),f=Math.ceil(a.reviewMaxTotalMinutesPlayedLastTwoWeeks.author_playtime_last_two_weeks/60),y=Math.floor(a.reviewMinTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60),j=Math.ceil(a.reviewMaxTotalMinutesPlayedAtReviewTime.author_playtime_at_review/60);return{searchTerm:"",languages:i.length>0?i:[{label:"English",value:"english"}],votedUpPositive:!0,votedUpNegative:!0,earlyAccessYes:!0,earlyAccessNo:!0,steamPurchaseYes:!0,steamPurchaseNo:!0,receivedForFreeYes:!0,receivedForFreeNo:!0,containsASCIIArtYes:!1,containsASCIIArtNo:!0,textLength:[e,t],authorNumReviews:[r,n],authorNumGames:[s,l],commentCount:[o,c],votesHelpful:[d,u],votesFunny:[h,m],timeCreated:[v,x],timePlayedForever:[g,p],timePlayedLastTwoWeeks:[w,f],timePlayedAtReviewTime:[y,j],exactSearchTerm:"exactIgnoreCase",containsUrlYes:!0,containsUrlNo:!0}},u=function(e,t){if(e.searchTerm){var a=t.recommendationid===e.searchTerm;if("exact"===e.exactSearchTerm){if(-1===t.review.indexOf(e.searchTerm)&&!a)return!1}else if("exactIgnoreCase"===e.exactSearchTerm){if(-1===t.review.toLowerCase().indexOf(e.searchTerm.toLowerCase())&&!a)return!1}else{var r=e.searchTerm.split(" "),i=t.review.toLowerCase(),n=!1,s=!0,l=!1,o=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;if(-1!==i.indexOf(u.toLowerCase())){n=!0;break}}}catch(m){l=!0,o=m}finally{try{s||null==d.return||d.return()}finally{if(l)throw o}}if(!n&&!a)return!1}}if(-1===e.languages.map((function(e){return e.value})).indexOf(t.language))return!1;if(!1===e.votedUpPositive&&t.voted_up||!1===e.votedUpNegative&&!t.voted_up)return!1;if(!1===e.earlyAccessYes&&t.written_during_early_access||!1===e.earlyAccessNo&&!t.written_during_early_access)return!1;if(!1===e.steamPurchaseYes&&t.steam_purchase||!1===e.steamPurchaseNo&&!t.steam_purchase)return!1;if(!1===e.receivedForFreeYes&&t.received_for_free||!1===e.receivedForFreeNo&&!t.received_for_free)return!1;if(e.timePlayedForever&&(t.author_playtime_forever/60<e.timePlayedForever[0]||t.author_playtime_forever/60>e.timePlayedForever[1]))return!1;if(e.timePlayedLastTwoWeeks&&(t.author_playtime_last_two_weeks/60<e.timePlayedLastTwoWeeks[0]||t.author_playtime_last_two_weeks/60>e.timePlayedLastTwoWeeks[1]))return!1;if(e.timePlayedAtReviewTime&&(t.author_playtime_at_review/60<e.timePlayedAtReviewTime[0]||t.author_playtime_at_review/60>e.timePlayedAtReviewTime[1]))return!1;if(e.textLength&&(t.review.length<e.textLength[0]||t.review.length>e.textLength[1]))return!1;if(e.votesHelpful&&(t.votes_up<e.votesHelpful[0]||t.votes_up>e.votesHelpful[1]))return!1;if(e.votesFunny&&(t.votes_funny<e.votesFunny[0]||t.votes_funny>e.votesFunny[1]))return!1;if(e.authorNumReviews&&(t.author_num_reviews<e.authorNumReviews[0]||t.author_num_reviews>e.authorNumReviews[1]))return!1;if(e.authorNumGames&&(t.author_num_games<e.authorNumGames[0]||t.author_num_games>e.authorNumGames[1]))return!1;if(e.commentCount&&(t.comment_count<e.commentCount[0]||t.comment_count>e.commentCount[1]))return!1;if(e.timeCreated&&(t.timestamp_created<e.timeCreated[0].getTime()/1e3||t.timestamp_created>e.timeCreated[1].getTime()/1e3))return!1;if(!1===e.containsUrlYes&&t.contains_url||!1===e.containsUrlNo&&!t.contains_url)return!1;var h=t.review.length>1&&t.review.replace(Re,"").length>t.review.length/1.25;return!(!1===e.containsASCIIArtYes&&h||!1===e.containsASCIIArtNo&&!h)},h=(0,s.useState)(!1),m=h[0],v=h[1],_=(0,s.useState)(!0),b=_[0],N=_[1],k=(0,s.useState)(d()),M=k[0],C=k[1],T=(0,s.useState)(20),S=T[0],P=T[1],F=(0,s.useState)(M),A=F[0],R=F[1],O=(0,p.Z)((0,Fe.Z)(["viewOptions","filters","sorting"]),2),U=O[0],I=O[1],W=(0,s.useState)({hiddenColumns:[{label:"Time updated",value:"timeUpdated"},{label:"Language",value:"language"},{label:"Written during early access",value:"earlyAccess"},{label:"Purchased via Steam",value:"steamPurchase"},{label:"Marked as received for free",value:"receivedForFree"},{label:"Author continued playing",value:"authorContinuedPlaying"},{label:"Author last played",value:"authorLastPlayed"}],truncateLongReviews:!0,censorBadWords:!0}),B=W[0],D=W[1];(0,s.useEffect)((function(){var e;if(U.viewOptions&&D(U.viewOptions),null===(e=U.filters)||void 0===e?void 0:e.languages){var t=Object.keys(a.totalLanguages),r=[],i=!0,n=!1,s=void 0;try{for(var l,u=U.filters.languages[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var h=l.value;-1!==t.indexOf(h.value)&&r.push(h)}}catch(b){n=!0,s=b}finally{try{i||null==u.return||u.return()}finally{if(n)throw s}}r.length>0&&(M.languages=r)}var m=[],x=!0,g=!1,p=void 0;try{for(var w,f=Object.keys(M)[Symbol.iterator]();!(x=(w=f.next()).done);x=!0){var y=w.value,j=o.query["f".concat(y)];if(void 0!==j){var _=JSON.parse(j);switch(y){case"timeCreated":_[0]=new Date(_[0]),_[1]=new Date(_[1]);case"textLength":case"authorNumReviews":case"authorNumGames":case"commentCount":case"votesHelpful":case"votesFunny":case"timePlayedForever":case"timePlayedLastTwoWeeks":case"timePlayedAtReviewTime":_[0]<M[y][0]&&(_[0]=M[y][0]),_[1]>M[y][1]&&(_[1]=M[y][1]),M[y]=_,m.push(y);break;case"searchTerm":M[y]=_,m.push(y);break;case"exactSearchTerm":-1!==["exact","exactIgnoreCase","partialIgnoreCase"].indexOf(_)&&(M[y]=_,m.push(y));break;case"votedUpPositive":case"votedUpNegative":case"earlyAccessYes":case"earlyAccessNo":case"steamPurchaseYes":case"steamPurchaseNo":case"receivedForFreeYes":case"receivedForFreeNo":case"containsASCIIArtYes":case"containsASCIIArtNo":case"containsUrlYes":case"containsUrlNo":"boolean"===typeof _&&(M[y]=_,m.push(y))}}}}catch(b){g=!0,p=b}finally{try{x||null==f.return||f.return()}finally{if(g)throw p}}C(M),ne(m),U.sorting&&(le.id=U.sorting.id,le.direction=U.sorting.direction,oe(U.sorting)),ue(m,M),we(c,0,M,le).then((function(e){X(e.count),z(e.results),ae(0),R(M),v(!1);var t=Y().isEqual(M,d());N(t),E(!0)}))}),[]);var G=(0,s.useState)(!1),V=G[0],E=G[1],q=(0,s.useState)([]),H=q[0],z=q[1],K=(0,s.useState)(0),J=K[0],X=K[1],$=(0,s.useState)(0),Q=$[0],ae=$[1],re=(0,s.useState)([]),ie=re[0],ne=re[1],se=(0,s.useState)({id:"timestampUpdated",direction:"descending"}),le=se[0],oe=se[1],ce=function(e){D(e),I("viewOptions",e,{path:"/"})},ue=function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={appId:o.query.appId};(void 0!==o.query.start&&(n.start=o.query.start),void 0!==o.query.end&&(n.end=o.query.end),void 0!==o.query.languages&&(n.languages=o.query.languages),i)||(n=(0,r.Z)({},n,(a=Object).assign.apply(a,[{}].concat((0,w.Z)(e.map((function(e){return(0,g.Z)({},"f".concat(e),JSON.stringify(t[e]))})))))));o.push({pathname:o.pathname,query:(0,r.Z)({},n)},void 0,{shallow:!0})},he=Y().debounce((0,x.Z)((function(){return(0,f.__generator)(this,(function(e){return ue(ie,M),we(c,0,M,le).then((function(e){X(e.count),z(e.results),ae(0),R(M),v(!1);var t=Y().isEqual(M,d());N(t)})),[2]}))})),250),me=(0,s.useState)("reviews"),ve=me[0],xe=me[1],ge=s.createRef(),pe=function(e){xe("reviews");var t=d(),a=!0,r=!1,i=void 0;try{for(var n,s=Object.entries(e)[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){var l=(0,p.Z)(n.value,2),o=l[0],u=l[1];t[o]=u}}catch(y){r=!0,i=y}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}var h=!0,m=!1,x=void 0;try{for(var g,w=Object.keys(e)[Symbol.iterator]();!(h=(g=w.next()).done);h=!0){var f=g.value;-1===ie.indexOf(f)&&ie.push(f)}}catch(y){m=!0,x=y}finally{try{h||null==w.return||w.return()}finally{if(m)throw x}}ne(ie),C(t),I("filters",t,{path:"/"}),ue(ie,t),we(c,0,t,le).then((function(e){X(e.count),z(e.results),ae(0),R(t),v(!1),N(!1),ge.current&&ge.current.scrollIntoView({behavior:"smooth"})}))},we=function(){var e=(0,x.Z)((function(e,t,a,r){var i,n,s,l;return(0,f.__generator)(this,(function(o){switch(o.label){case 0:switch(i=null,r.id){case"timestampUpdated":i=e.orderBy("timestamp_updated");break;case"playtimeAtReview":i=e.orderBy("author_playtime_at_review");break;case"playtimeForever":i=e.orderBy("author_playtime_forever");break;case"playtime2Weeks":i=e.orderBy("author_playtime_last_two_weeks");break;case"votesUp":i=e.orderBy("votes_up");break;case"votesFunny":i=e.orderBy("votes_funny");break;case"authorNumReviews":case"authorNumReviews":i=e.orderBy("author_num_reviews");break;case"authorNumGames":case"authorNumGames":i=e.orderBy("author_num_games_owned");break;case"commentCount":i=e.orderBy("comment_count");break;case"textLength":i=e.orderBy("length");break;default:i=e.orderBy("timestamp_created")}return"descending"===r.direction&&(i=i.reverse()),[4,(i=i.filter((function(e){return u(a,e)}))).count()];case 1:return n=o.sent(),s=S*t,l={count:n},[4,i.offset(s).limit(S).toArray()];case 2:return[2,(l.results=o.sent(),l)]}}))}));return function(t,a,r,i){return e.apply(this,arguments)}}(),ye=function(){var e=(0,x.Z)((function(e,t,a){var r;return(0,f.__generator)(this,(function(i){switch(r=null,a.id){case"timestampUpdated":r=e.orderBy("timestamp_updated");break;case"playtimeAtReview":r=e.orderBy("author_playtime_at_review");break;case"playtimeForever":r=e.orderBy("author_playtime_forever");break;case"playtime2Weeks":r=e.orderBy("author_playtime_last_two_weeks");break;case"votesUp":r=e.orderBy("votes_up");break;case"votesFunny":r=e.orderBy("votes_funny");break;case"authorNumReviews":case"authorNumReviews":r=e.orderBy("author_num_reviews");break;case"authorNumGames":case"authorNumGames":r=e.orderBy("author_num_games_owned");break;case"commentCount":r=e.orderBy("comment_count");break;case"textLength":r=e.orderBy("length");break;default:r=e.orderBy("timestamp_created")}return"descending"===a.direction&&(r=r.reverse()),[2,(r=r.filter((function(e){return u(t,e)}))).toArray()]}))}));return function(t,a,r){return e.apply(this,arguments)}}(),je=(0,n.jsx)(Ne,{game:t,handleGetData:function(e){return"reviews"===e?c.toArray():ye(c,M,le)},reviewCount:a.totalReviews,filteredReviewCount:J,viewOptions:B,viewOptionsCallback:ce});return V&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{ref:ge}),(0,n.jsxs)(y.Z,{defaultActiveKey:"reviews",className:"mt-1",onSelect:function(e){xe(e)},activeKey:ve,children:[(0,n.jsx)(j.Z,{eventKey:"presets",title:"Presets",children:(0,n.jsx)(L,{handleFilterPreset:pe,initialFilterRanges:d(),reviewStatistics:a,game:t})}),(0,n.jsxs)(j.Z,{eventKey:"reviews",title:"Reviews",children:[(0,n.jsx)(de,{filteredReviewCount:J,filters:M,viewOptions:B,viewOptionsCallback:ce,updateFiltersCallback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];v(!Y().isEqual(e,A)),C(e),I("filters",e,{path:"/"});var a=!0,r=!1,i=void 0;try{for(var n,s=t[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){var l=n.value;-1===ie.indexOf(l)&&ie.push(l)}}catch(o){r=!0,i=o}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}ne(ie)},applyFiltersCallback:he,cancelStagedFilterChangesCallback:function(){C(A),v(!1)},reviewStatistics:a,cachedFilters:A,dirty:m,zeroed:b,resetFiltersCallback:function(){var e=d();ne([]),C(e),ue(e,[],!0),we(c,0,e,le).then((function(t){X(t.count),z(t.results),ae(0),R(e),v(!1),N(!0)}))}}),(0,n.jsx)(ee,{filteredReviewCount:J,exportComponent:je,index:Q,filters:M,viewOptions:B,game:t,reviews:H,sorting:le,handleSort:function(e){var t,a;e===le.id?(t=e,"ascending"===le.direction?a="descending":"descending"===le.direction&&(a="ascending")):(t=e,a="descending");var r={id:t,direction:a};oe((function(e){return r})),I("sorting",r,{path:"/"}),we(c,0,M,r).then((function(e){X(e.count),z(e.results),ae(0)}))},handleChangeIndex:function(e){we(c,e,M,le).then((function(t){X(t.count),z(t.results),ae(e)}))},keyNavigationEnabled:"reviews"===ve,reviewTextTruncateLength:a.medianTextLength,pageSize:S,setPageSize:P})]}),(0,n.jsxs)(j.Z,{eventKey:"statistics",title:"Statistics",className:"pb-3 pt-3",children:[(0,n.jsx)(fe,{reviewStatistics:a}),(0,n.jsx)(Pe,{reviewStatistics:a}),(0,n.jsx)(te,{game:t,reviewStatistics:a,handleFilterPreset:pe,initialFilterRanges:d()})]}),(0,n.jsx)(j.Z,{eventKey:"languages",title:"Languages",className:"pb-3 pt-3",children:(0,n.jsx)(Ze,{game:t,reviewStatistics:a,handleFilterPreset:pe})}),(0,n.jsx)(j.Z,{eventKey:"words",title:"Words",className:"pb-3 pt-3",children:(0,n.jsx)(ke,{game:t,reviewStatistics:a,handleFilterPreset:pe})}),(0,n.jsx)(j.Z,{eventKey:"highlights",title:"Highlights",children:(0,n.jsx)(Z,{game:t,reviewStatistics:a})})]})]})},Ue=a(51479);function Ie(e){var t=function(e){return("0"+e).slice(-2)},a=new Date(1e3*Math.round(e/1e3));return a.getUTCHours()+":"+t(a.getUTCMinutes())+":"+t(a.getUTCSeconds())}var We=function(e){var t=e.game,a=e.update,r=e.error,i=e.proceedCallback,s=e.timeStartedScraping,l=e.foreverTime,o=void 0===l||l;a.count>t.total_reviews&&(a.count=t.total_reviews);var u=Math.round(a.count/t.total_reviews*100),h=a.count.toLocaleString(),v=a.checked.toLocaleString(),x=t.total_reviews.toLocaleString(),g=Math.round(a.bytes/1e3).toLocaleString(),p=Ie((t.total_reviews-a.checked)/100*a.averageRequestTime),w=Date.now()-s,f=Ie(Date.now()-s),y=a.finished?(0,n.jsxs)("p",{children:["Finished loading ",h," review",1!==a.count?"s":""," for ",t.name,", computing statistics..."]}):(0,n.jsxs)("p",{children:["Searching backwards in time! Checked ",(0,n.jsx)("code",{children:v})," of an estimated total ",(0,n.jsx)("code",{children:x})," review",1!==t.total_reviews?"s":""," (",(0,n.jsxs)("code",{children:["~",g,"kb"]}),") for ",t.name,", ",(0,n.jsx)("code",{children:f})," elapsed",o?(0,n.jsxs)(n.Fragment,{children:[", estimated time remaining ",(0,n.jsx)("code",{children:p})]}):(0,n.jsx)(n.Fragment,{})]}),j=a.finished&&0===a.count?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"No reviews were found matching your criteria"}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(m.Z,{className:"mb-3",variant:"secondary",href:"/steam-review-explorer/",children:"Go back"})})})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ue.Z,{className:"mb-3",now:u,label:"".concat(u,"%")}),y,r&&r.attemptNumber&&(0,n.jsxs)("p",{className:"text-warning",children:["Stopped receiving reviews from Steam, making sure we're at the end (attempt ",r.attemptNumber," of ",r.attemptNumber+r.triesLeft,")"]}),(0,n.jsx)("p",{children:w>2e4?(0,n.jsxs)("span",{children:[(0,n.jsx)("a",{href:"https://partner.steamgames.com/doc/store/getreviews",target:"_blank",children:"Steam's API"})," limits us to requesting 100 reviews at a time, every few seconds...",!o&&(0,n.jsx)(n.Fragment,{children:" We also can't start looking from a specific point in time..."})]}):(0,n.jsx)("span",{children:"\xa0"})}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsx)(m.Z,{className:"mb-3",variant:"secondary",href:"/steam-review-explorer/",children:"Cancel"})})}),(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsxs)(m.Z,{variant:"warning",onClick:i,children:["Proceed ",(!r||!r.attemptNumber)&&"Early"]})})})]})]});return(0,n.jsx)(S.Z,{children:j})},Be=a(62257),De=function(e){var t=e.game,a="dlc"===t.type?"DLC":t.type.charAt(0).toUpperCase()+t.type.slice(1),r=t.developers.join(", "),i="https://store.steampowered.com/app/".concat(t.steam_appid),s="https://steamdb.info/app/".concat(t.steam_appid),l="https://steamspy.com/app/".concat(t.steam_appid),o="Unknown";return Object.keys(t.parsed_supported_languages).length>0&&(o=Object.entries(t.parsed_supported_languages).map((function(e){return e[1].englishName})).join(", ")),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{md:"auto",className:"mb-5",children:(0,n.jsx)("img",{style:{width:"100%",maxWidth:"100%"},src:t.header_image})}),(0,n.jsxs)(d.Z,{className:"mb-5",children:[(0,n.jsxs)("h4",{children:[t.name," ",(0,n.jsx)(Be.Z,{game:t,showTooltip:!1}),null!==t.content_descriptors.ids&&-1!==t.content_descriptors.ids.indexOf(3)&&(0,n.jsx)(b.Z,{bg:"danger",children:"Adult"})]}),(0,n.jsxs)("p",{className:"text-muted mb-2",children:[a," by ",r," ",t.release_date.coming_soon?"coming soon":"released ".concat(t.release_date.date)]}),(0,n.jsxs)("p",{className:"text-muted",children:[(0,n.jsx)("a",{href:i,children:"Steam Store"})," | ",(0,n.jsx)("a",{href:s,children:"SteamDB"})," | ",(0,n.jsx)("a",{href:l,children:"SteamSpy"})]}),(0,n.jsxs)("p",{className:"text-muted",children:["Supported languages: ",o]}),(0,n.jsx)("p",{children:t.short_description})]})]})},Ge=a(41664),Ve=a.n(Ge),Ee=["yes","no","maybe","good","bad","great","mostly","awful","terrible","fun","time","better","dont","wont","the","and","that","for","you","are","this","games","game","have","all","but","not","was","with","without","out","will","itself","got","shall","shan","such","both","many","can","could","would","should","did","some","one","two","three","four","five","six","seven","eight","nine","ten","play","they","them","there","their","who","why","has","over","your","most","more","then","again","ever","while","buy","honestly","very","actually","too","had","like","just","from","really","even","what","don","doesn","people","cannot","than","does","now","back","otherwise","because","anything","seem","seems","recommend","times","want","played","get","gets","use","useful","review","reviews","isn","only","its","these","how","still","when","know","which","any","way","other","first","second","third","low","high","having","well","also","lot","were","into","top","say","few","made","didn","bit","think","around","though","thing","something","after","rather","until","off","being","much","about","nothing","never","those","see","need","much","see","where","little","every","especially","give","must","before","things","here","wait","hope","own","make","etc","early","access","part","being","been","going","yet","once","twice","www","http","https","youtube","com","watch","through","near","far","wasn","last","away","feels","find"],Ye="dd/mm/yyyy",qe=function(e){return e-=e%864e5,new Date(e)};function He(e,t){return e.length>2&&!t.includes(e.toLowerCase())}function ze(){return ze=(0,x.Z)((function(e){var t,a,r,i,n,s,l,o,c,d,u,h,m,v,g,p,y,j,_,b,N,M,C,T,Z,S,L,P,F,A,R,O,U,I,W,B,D,G,V,E,Y,q,H,z,K,J,X,$,Q,ee,te,ae,re,ie,ne,se,le,oe,ce,de,ue,he,me,ve,xe,ge,pe,we,fe,ye,je,_e,be,Ne,ke,Me,Ce,Te,Ze,Se,Le,Pe;return(0,f.__generator)(this,(function(Fe){switch(Fe.label){case 0:return[4,(t=Ae.Z.getReviewStoreForGame(e.steam_appid)).count()];case 1:return a=Fe.sent(),function(e,t){return 0===e.length?0:(e.sort((function(e,a){return t(e)-t(a)})),e.length%2===0?(t(e[e.length/2])+t(e[e.length/2-1]))/2:t(e[Math.ceil(e.length/2)-1]))},r=function(){var e=(0,x.Z)((function(e,t,a,r){var i,n,s,l,o,c,d,u,h,m;return(0,f.__generator)(this,(function(v){switch(v.label){case 0:return i=1,n=Math.ceil(a/2)-1,a%2===0&&(i=2),[4,e.orderBy(t).toArray()];case 1:return v.sent(),[4,e.orderBy(t).offset(n).limit(i).toArray()];case 2:s=v.sent(),l=0,o=!0,c=!1,d=void 0;try{for(u=s[Symbol.iterator]();!(o=(h=u.next()).done);o=!0)m=h.value,l+=r(m)}catch(x){c=!0,d=x}finally{try{o||null==u.return||u.return()}finally{if(c)throw d}}return[2,l/i]}}))}));return function(t,a,r,i){return e.apply(this,arguments)}}(),i=function(){var e=(0,x.Z)((function(e,t,a){var r,i,n,s,l,o,c,d,u,h,m,v;return(0,f.__generator)(this,(function(x){switch(x.label){case 0:return r=e.orderBy("author_playtime_after_review_time").filter((function(e){return e.author_continued_playing&&e.voted_up===a})),[4,r.count()];case 1:return i=x.sent(),n=1,s=Math.ceil(i/2)-1,i%2===0&&(n=2),[4,r.offset(s).limit(n).toArray()];case 2:l=x.sent(),o=0,c=!0,d=!1,u=void 0;try{for(h=l[Symbol.iterator]();!(c=(m=h.next()).done);c=!0)v=m.value,o+=t(v)}catch(g){d=!0,u=g}finally{try{c||null==h.return||h.return()}finally{if(d)throw u}}return[2,o/n]}}))}));return function(t,a,r){return e.apply(this,arguments)}}(),n=a,s=0,l=0,o=0,c=0,d=0,u=0,h=0,m=0,v=0,g=0,p=0,y=0,j=0,_=0,b=0,N=0,M=0,C={},T=null,Z=null,S=null,L=null,P=null,F=null,A=null,R=null,O=null,U=null,I=null,W=null,B=null,D=null,G=null,V=null,E=null,Y=null,q=null,H=null,z=null,K=null,J={},X=new Map,$=new Map,Q=e.name.match(/\b(\w+)\b/g),ee=null!==Q?(te=Ee).concat.apply(te,(0,w.Z)(Q)).map((function(e){return e.toLowerCase()})):Ee.map((function(e){return e.toLowerCase()})),[4,t.each((function(e){if("english"===e.language){var t=e.review.match(/\b(\w+)\b/g);if(null!==t&&(t=(0,w.Z)(new Set(t)).map((function(e){return e.toLowerCase()}))),null!==t){var a=!0,r=!1,i=void 0;try{for(var n,x=t[Symbol.iterator]();!(a=(n=x.next()).done);a=!0){var f=n.value;He(f,ee)&&(e.voted_up?X.has(f)?X.set(f,X.get(f)+1):X.set(f,1):$.has(f)?$.set(f,$.get(f)+1):$.set(f,1))}}catch(ae){r=!0,i=ae}finally{try{a||null==x.return||x.return()}finally{if(r)throw i}}}}if(j+=e.length,void 0===C[e.language]?C[e.language]={total:1,positive:e.voted_up?1:0,negative:e.voted_up?0:1}:(C[e.language].total++,e.voted_up?C[e.language].positive++:C[e.language].negative++),e.voted_up?s++:l++,e.steam_purchase&&b++,e.received_for_free&&N++,e.written_during_early_access&&M++,e.comment_count>0&&_++,(null===G||e.comment_count<G.comment_count)&&(G=e),(null===V||e.comment_count>V.comment_count)&&(V=e),(null===I||e.author_num_reviews<I.author_num_reviews)&&(I=e),(null===W||e.author_num_reviews>W.author_num_reviews)&&(W=e),(null===B||e.author_num_games_owned<B.author_num_games_owned)&&(B=e),(null===D||e.author_num_games_owned>D.author_num_games_owned)&&(D=e),(null===E||e.votes_up<E.votes_up)&&(E=e),(null===Y||e.votes_up>Y.votes_up)&&(Y=e),(null===q||e.votes_funny<q.votes_funny)&&(q=e),(null===H||e.votes_funny>H.votes_funny)&&(H=e),(null===z||e.review.length<z.review.length)&&(z=e),(null===K||e.review.length>K.review.length)&&(K=e),e.timestamp_updated!==e.timestamp_created&&(y++,e.was_updated=!0,(null===S||e.timestamp_updated<S.timestamp_updated)&&(S=e),(null===L||e.timestamp_updated>L.timestamp_updated)&&(L=e)),e.author_continued_playing){o++;var Q=e.author_playtime_after_review_time;v+=Q,e.voted_up?(c++,g+=Q):(d++,p+=Q)}u+=e.author_playtime_forever,h+=e.author_playtime_last_two_weeks,m+=e.author_playtime_at_review,(null===P||e.author_playtime_forever<P.author_playtime_forever)&&(P=e),(null===F||e.author_playtime_forever>F.author_playtime_forever)&&(F=e),(null===A||e.author_playtime_last_two_weeks<A.author_playtime_last_two_weeks)&&(A=e),(null===R||e.author_playtime_last_two_weeks>R.author_playtime_last_two_weeks)&&(R=e),(null===O||e.author_playtime_at_review<O.author_playtime_at_review)&&(O=e),(null===U||e.author_playtime_at_review>U.author_playtime_at_review)&&(U=e),(null===T||e.timestamp_created<T.timestamp_created)&&(T=e),(null===Z||e.timestamp_created>Z.timestamp_created)&&(Z=e);var te=qe(1e3*e.timestamp_created).getTime()/1e3;void 0!==J[te]?e.voted_up?J[te]["Total Positive"]++:J[te]["Total Negative"]--:e.voted_up?J[te]={name:k()(new Date(1e3*te),Ye),"Total Positive":1,"Total Negative":0,asEpoch:te}:J[te]={name:k()(new Date(1e3*te),Ye),"Total Positive":0,"Total Negative":-1,asEpoch:te}}))];case 2:return Fe.sent(),ae=(0,w.Z)(X.entries()).sort((function(e,t){return t[1]-e[1]})).slice(0,20),re=(0,w.Z)($.entries()).sort((function(e,t){return t[1]-e[1]})).slice(0,20),ie=Math.floor(v/n),ne=0===c?0:Math.floor(g/c),se=0===d?0:Math.floor(p/d),le=Math.floor(m/n),oe=Math.floor(u/n),ce=Math.floor(h/n),ue=Math.floor,[4,r(t,"author_playtime_forever",a,(function(e){return e.author_playtime_forever}))];case 3:return de=ue.apply(Math,[Fe.sent()]),me=Math.floor,[4,r(t,"author_playtime_at_review",a,(function(e){return e.author_playtime_at_review}))];case 4:return he=me.apply(Math,[Fe.sent()]),xe=Math.floor,[4,r(t,"author_playtime_last_two_weeks",a,(function(e){return e.author_playtime_last_two_weeks}))];case 5:return ve=xe.apply(Math,[Fe.sent()]),pe=Math.floor,[4,r(t,"length",a,(function(e){return e.length}))];case 6:return ge=pe.apply(Math,[Fe.sent()]),we=Math.floor(j/n),ye=Math.floor,[4,i(t,(function(e){return e.author_playtime_after_review_time}),!0)];case 7:return fe=ye.apply(Math,[Fe.sent()]),_e=Math.floor,[4,i(t,(function(e){return e.author_playtime_after_review_time}),!1)];case 8:for(je=_e.apply(Math,[Fe.sent()]),null===L&&(L=Z),be=qe(1e3*T.timestamp_created).getTime()/1e3,Ne=be;Ne<Z.timestamp_created;Ne+=86400)void 0===J[Ne]&&(J[Ne]={name:k()(new Date(1e3*Ne),Ye),"Total Positive":0,"Total Negative":0,asEpoch:Ne});J=Object.values(J).sort((function(e,t){return e.asEpoch-t.asEpoch})),ke=0,Me=0,Ce=!0,Te=!1,Ze=void 0;try{for(Se=J[Symbol.iterator]();!(Ce=(Le=Se.next()).done);Ce=!0)Pe=Le.value,ke+=Pe["Total Positive"],Me+=Math.abs(Pe["Total Negative"]),Pe["Review Score"]=Math.round(ke/(ke+Me)*100)}catch(Re){Te=!0,Ze=Re}finally{try{Ce||null==Se.return||Se.return()}finally{if(Te)throw Ze}}return[2,{totalReviews:n,totalReviewsPositive:s,totalReviewsNegative:l,totalContinuedPlayingAfterReviewTime:o,totalContinuedPlayingAfterReviewTimePositive:c,totalContinuedPlayingAfterReviewTimeNegative:d,averageMinutesPlaytimeAfterReviewTime:ie,averageMinutesPlayedAfterReviewTimePositive:ne,averageMinutesPlayedAfterReviewTimeNegative:se,medianMinutesContinuedPlayingAfterPositiveReview:fe,medianMinutesContinuedPlayingAfterNegativeReview:je,totalMinutesPlayedForever:u,totalMinutesPlayedLastTwoWeeks:h,totalMinutesPlayedAtReviewTime:m,totalReviewsUpdated:y,totalWithComments:_,totalPurchasedViaSteam:b,totalMarkedAsReceivedForFree:N,totalWrittenDuringEarlyAccess:M,totalLanguages:C,averageMinutesPlaytimeAtReviewTime:le,averageMinutesPlaytimeForever:oe,averageMinutesPlaytimeLastTwoWeeks:ce,medianMinutesPlayedForever:de,medianMinutesPlayedLastTwoWeeks:ve,medianMinutesPlayedAtReviewTime:he,reviewMinTimestampCreated:T,reviewMaxTimestampCreated:Z,reviewMinTimestampUpdated:S,reviewMaxTimestampUpdated:L,reviewMinTotalMinutesPlayedForever:P,reviewMaxTotalMinutesPlayedForever:F,reviewMinTotalMinutesPlayedLastTwoWeeks:A,reviewMaxTotalMinutesPlayedLastTwoWeeks:R,reviewMinTotalMinutesPlayedAtReviewTime:O,reviewMaxTotalMinutesPlayedAtReviewTime:U,reviewMinAuthorNumReviews:I,reviewMaxAuthorNumReviews:W,reviewMinAuthorNumGames:B,reviewMaxAuthorNumGames:D,reviewMinCommentCount:G,reviewMaxCommentCount:V,reviewMinVotesUp:E,reviewMaxVotesUp:Y,reviewMinVotesFunny:q,reviewMaxVotesFunny:H,reviewMinTextLength:z,reviewMaxTextLength:K,averageTextLength:we,medianTextLength:ge,reviewVolumeOverTime:J,positiveWordFrequencyList:ae,negativeWordFrequencyList:re}]}}))})),ze.apply(this,arguments)}var Ke={processReviewsForGame:function(e){return ze.apply(this,arguments)},sortReviews:null,filterReviews:null},Je=a(86204),Xe=function(){var e="mmm d, yyyy",t=(0,s.useState)(null),a=t[0],x=t[1],g=(0,s.useState)(null),p=g[0],w=g[1],f=(0,s.useState)(!0),y=f[0],j=f[1],_=(0,s.useState)(null),b=_[0],N=_[1],C=(0,s.useState)(!1),T=C[0],Z=C[1],S=(0,s.useState)(null),L=S[0],P=S[1],F=(0,s.useState)(null),A=F[0],R=F[1],O=(0,s.useState)(Date.now()),U=O[0],I=(O[1],(0,s.useState)({checked:0,count:0,averageRequestTime:0,bytes:0,finished:!1})),W=I[0],B=I[1],D=(0,s.useState)(0),G=D[0],V=D[1],E=(0,s.useState)(!1),q=E[0],H=E[1],z=(0,s.useState)(null),K=z[0],J=z[1],X=(0,l.useRouter)(),$=X.query.appId,Q=+X.query.start,ee=+X.query.end,te=isNaN(Q)?new Date(0):new Date(Q),ae=isNaN(ee)?new Date:new Date(ee),re=[],ie=X.query.languages;ie&&(re=ie.split(","));var ne=isNaN(Q)||isNaN(ee),se=function(e,t){Ke.processReviewsForGame(e).then((function(a){R(a),t<e.total_reviews&&(N({originalTotal:e.total_reviews}),w((0,i.Z)((0,r.Z)({},e),{total_reviews:t,total_positive:a.totalReviewsPositive,total_negative:a.totalReviewsNegative})))}))},le=function(e){H(!1),R(null);var t=new AbortController;o.Z.getReviews(e,$,B,P,t,te,ae,re).then((function(t){0!==t&&se(e,t)}))},oe=function(e){H(!0),se(e,G)};null===p&&void 0!==$&&o.Z.getGame($,re).then((function(e){return w(e),x(Y().clone(e)),e})).then((function(e){if(0===e.total_reviews){var t=Y().clone(W);return t.finished=!0,void B(t)}Ae.Z.getReviewStoreForGame(e.steam_appid).count().then((function(t){t>0?(V(t),Ae.Z.getSearch(e.steam_appid).then((function(t){0===t.start&&0===te.getTime()||t.start===te.getTime()&&t.end===ae.getTime()?(J(t),oe(e)):le(e)}))):le(e)}))}));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.Z,{children:(0,n.jsxs)(d.Z,{children:[p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-light rounded-3 p-3 mb-4",children:(0,n.jsxs)(u.Z,{className:"mb-0",children:[(0,n.jsx)("li",{className:"breadcrumb-item",children:(0,n.jsx)(Ve(),{href:"/",children:"Home"})}),(0,n.jsx)(u.Z.Item,{active:!0,children:p.name})]})}),q&&K&&(0,n.jsx)(h.Z,{className:"mb-4",variant:Date.now()-K.when>36e5?"warning":"info",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(d.Z,{className:"md-auto align-content-center",xs:9,children:(0,n.jsxs)("p",{className:"d-inline-block mb-0",children:["You last explored at ",k()(new Date(K.when),"hh:MMtt, dd/mm/yyyy"),". ",Date.now()-K.when>36e5?"It is recommended to search again as data may have changed.":""]})}),(0,n.jsx)(d.Z,{className:"d-flex justify-content-end",children:(0,n.jsx)("div",{children:(0,n.jsxs)(m.Z,{onClick:function(){return le(Y().clone(a))},children:[(0,n.jsx)(Je.Rc_,{})," Explore"]})})})]})}),(0,n.jsx)(De,{game:p})]}),p&&a&&(A?(0,n.jsxs)(n.Fragment,{children:[ne&&b&&(0,n.jsxs)(h.Z,{show:y,onClose:function(){return j(!1)},variant:"warning",dismissible:!0,children:[T&&"You chose to proceed without scraping all reviews, ",A.totalReviews.toLocaleString()," out of a reported ",b.originalTotal.toLocaleString()," review",1!==b.originalTotal?"s were":" was"," retrieved."," ",!T&&(0,n.jsx)(Ve(),{href:"/about#known-issues-mismatched-totals",children:"Why can this happen?"}),A.totalReviews>3e4&&A.totalReviews<=5e4&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),"Due to the large number of reviews for this product the site may perform slowly"]})]}),!ne&&(0,n.jsxs)(h.Z,{show:y,onClose:function(){return j(!1)},variant:"info",dismissible:!0,children:["Retrieved ",A.totalReviews.toLocaleString()," public review",1===A.totalReviews?"":"s"," in ",0===re.length||re.length===Object.keys(M.Z).length?"all languages":"".concat(re.length," language").concat(1!==re.length?"s":""),", in date range ",k()(new Date(1e3*A.reviewMinTimestampCreated.timestamp_updated),e)," - ",k()(new Date(1e3*A.reviewMaxTimestampUpdated.timestamp_updated),e)]}),(0,n.jsx)(Oe,{game:p,reviewStatistics:A,selectedLanguages:re.map((function(e){return{label:M.Z[e].englishName,value:e}}))})]}):(0,n.jsx)(We,{game:a,update:W,error:L,proceedCallback:function(){L.abortController&&(L.abortController.abort("User clicked cancel"),Z(!0))},timeStartedScraping:U,foreverTime:ne})),!p&&(0,n.jsx)(c.Z,{children:(0,n.jsx)(v.Z,{className:"mx-auto mt-2",animation:"border",role:"status",children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})})})}}},function(e){e.O(0,[662,571,885,396,923,899,72,572,774,888,179],(function(){return t=4788,e(e.s=t);var t}));var t=e.O();_N_E=t}]);